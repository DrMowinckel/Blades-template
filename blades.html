<div class="preload"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/xptooth-red.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/xptooth-white.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-red.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-black.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-halfgrey.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-white.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/shorttooth-red.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/shorttooth-grey.png"/></div><input class="focus-shadow" type="hidden" name="attr_setting_focus_shadow" value="1"/><input class="show-broadcast" type="hidden" name="attr_setting_show_broadcast" value="1"/><input class="show-itemdesc" type="hidden" name="attr_setting_show_itemdesc" value="1"/><input class="use-kirsty" type="hidden" name="attr_setting_usekirsty" value="0"/><input class="flexwidth" type="hidden" name="attr_setting_flexwidth" value="0"/><input type="hidden" name="attr_changed_attributes" value=""/><input type="hidden" name="attr_bonusdice" value="Bonus dice"/><input type="hidden" name="attr_advdis_query" value="?{Are you rolling with Advantage or Disadvantage?|Neither,2d6|Advantage,2d6+1[with Advantage]|Disadvantage,3d6-1[with Disadvantage]}"/><input type="hidden" name="attr_harm_query" value="?{Level of harm?|No harm,0|Level 1 Harm,-1|Level 2 Harm,-2|Level 3 Harm,-3}"/><input type="hidden" name="attr_forward_query" value="?{Any plus or minus?|0}"/><input type="hidden" name="attr_bonus_query" value="?{What Action did you use?|Push Yourself,Push Yourself|Gain An Assist,Gain An Assist|Devil's Bargain, Devil's Bargain}"/><input type="hidden" name="attr_action_used" value="?{Where did you get the bonus from?|Wreck,@{wreck}|Move,@{move}|Hunt,@{hunt}|Tinker,@{tinker}|Study,@{study}|Talk,@{talk}|Connect,@{connect}}"/><input type="hidden" name="attr_notes_query" value="?{Notes}"/><input type="hidden" name="attr_consequence_query" value="^{a_consequence}"/><input type="hidden" name="attr_stress_max" value="9"/><input type="hidden" name="attr_trauma_max" value="4"/><input type="hidden" name="attr_coin_max" value="4"/><input type="hidden" name="attr_stash_max" value="40"/><input type="hidden" name="attr_playbook_xp_max" value="8"/><input type="hidden" name="attr_rep_max" value="12"/><input type="hidden" name="attr_turf_max" value="6"/><input type="hidden" name="attr_crew_tier_max" value="4"/><input type="hidden" name="attr_heat_max" value="9"/><input type="hidden" name="attr_wanted_max" value="4"/><input type="hidden" name="attr_crewcoin_max" value="16"/><input type="hidden" name="attr_crew_xp_max" value="8"/><div class="container"><input class="type" type="hidden" name="attr_sheet_type" value="character"/><!-- Title & Version--><div class="topholder flex"><!-- Toggle the type of sheet--><div class="type-selector label"><input class="hidden sheet-3waybox" type="checkbox" name="attr_sheet_type" value="faction"/><input class="sheet-3waybox" type="radio" name="attr_sheet_type" value="character" checked="checked"/><input class="sheet-3waybox" type="radio" name="attr_sheet_type" value="crew"/><input class="sheet-3waybox" type="radio" name="attr_sheet_type" value="faction"/><span data-i18n="character_mode"></span><span data-i18n="crew_mode"></span><span data-i18n="faction_mode"></span></div><label class="settings-checkbox"><input type="checkbox" name="attr_show_settings" value="1"/><span>y</span></label><div class="version"><span class="version-text" data-i18n="version"></span><span name="attr_version"></span></div></div><input class="hider" type="hidden" name="attr_show_settings" value="0"/><!-- Settings--><div class="settings flex-wrap"><div class="setting-char generaterow"><select name="attr_generate_source_character" title="Choose source"><option value="cutter" data-i18n="cutter"></option><option value="ghost" data-i18n="ghost"></option><option value="hound" data-i18n="hound"></option><option value="hull" data-i18n="hull"></option><option value="leech" data-i18n="leech"></option><option value="lurk" data-i18n="lurk"></option><option value="slide" data-i18n="slide"></option><option value="spider" data-i18n="spider"></option><option value="whisper" data-i18n="whisper"></option><option value="vampire" data-i18n="vampire"></option></select><label class="generatebutton"><input type="checkbox" name="attr_generate_ability" value="1"/><span data-i18n="add_abilities"></span></label><label class="generatebutton"><input type="checkbox" name="attr_generate_friend" value="1"/><span data-i18n="add_friends"></span></label><label class="generatebutton"><input type="checkbox" name="attr_generate_playbookitem" value="1"/><span data-i18n="add_items"></span></label></div><div class="setting-crew generaterow"><select name="attr_generate_source_crew" title="Choose source"><option value="assassins" data-i18n="assassins"></option><option value="bravos" data-i18n="bravos"></option><option value="cult" data-i18n="cult"></option><option value="hawkers" data-i18n="hawkers"></option><option value="shadows" data-i18n="shadows"></option><option value="smugglers" data-i18n="smugglers"></option><option value="vigilantes" data-i18n="vigilantes"></option></select><label class="generatebutton"><input type="checkbox" name="attr_generate_crewability" value="1"/><span data-i18n="add_abilities"></span></label><label class="generatebutton"><input type="checkbox" name="attr_generate_contact" value="1"/><span data-i18n="add_contacts"></span></label><label class="generatebutton"><input type="checkbox" name="attr_generate_upgrade" value="1"/><span data-i18n="add_upgrades"></span></label></div><div class="setting-faction generaterow"><label class="generatebutton"><input type="checkbox" name="attr_generate_factions" value="1"/><span data-i18n="generate_factions"></span></label></div><div class="setting-char"><label><select name="attr_setting_extra_stress" title="Stress Boxes"><option value="0" selected="selected">9</option><option value="1">10</option><option value="2">11</option><option value="3">12</option></select><span data-i18n="number_stress_boxes"></span></label></div><div class="setting-char"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_extra_trauma" value="1"/><span></span><span data-i18n="show_extra_trauma_box"></span></label></div><div class="setting-char setting-crew"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_extra_xp" value="1"/><span></span><span data-i18n="show_extra_xp_condition"></span></label></div><div class="setting-char setting-crew"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_show_itemdesc" value="1" checked="checked"/><span></span><span data-i18n="show_item_description"></span></label></div><div class="setting-char"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_show_cohort" value="1"/><span></span><span data-i18n="show_cohort_section"></span></label></div><div class="setting-char"><label><input type="text" spellcheck="false" name="attr_setting_stress_label" value="Stress"/><span data-i18n="stress_label"></span></label></div><div class="setting-char"><label><input type="text" spellcheck="false" name="attr_setting_trauma_label" value="Trauma"/><span data-i18n="trauma_label"></span></label></div><div class="setting-char"><span data-i18n="resistance_bonus"></span><label><input type="number" name="attr_setting_resbonus_0" value="0"/><span data-i18n="0"></span></label><label><input type="number" name="attr_setting_resbonus_1" value="0"/><span data-i18n="1"></span></label><label><input type="number" name="attr_setting_resbonus_2" value="0"/><span data-i18n="2"></span></label><label><input type="number" name="attr_setting_resbonus_3" value="0"/><span data-i18n="3"></span></label><label><input type="number" name="attr_setting_resbonus_4" value="0"/><span data-i18n="4"></span></label><label><input type="number" name="attr_setting_resbonus_5" value="0"/><span data-i18n="5"></span></label><label><input type="number" name="attr_setting_resbonus_6" value="0"/><span data-i18n="6"></span></label></div><div class="setting-char"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_consequence_query" value="1"/><span></span><span data-i18n="query_for_consequence"></span></label></div><div class="setting-char"><span data-i18n="load:"></span><label><input type="number" name="attr_setting_load_l" value="3"/><span data-i18n="light"></span></label><label><input type="number" name="attr_setting_load_n" value="5"/><span data-i18n="normal"></span></label><label><input type="number" name="attr_setting_load_h" value="6"/><span data-i18n="heavy"></span></label></div><div class="setting-char"><label><select name="attr_setting_traumata_set" title="Traumata"><option value="normal" data-i18n="normal"></option><option value="ghost" data-i18n="ghost"></option><option value="hull" data-i18n="hull"></option></select><span data-i18n="traumata"></span></label></div><div class="setting-char setting-crew setting-faction"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_flexwidth" value="1"/><span></span><span data-i18n="flexible_width"></span></label></div><div class="setting-char setting-crew setting-faction"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_focus_shadow" value="1" checked="checked"/><span></span><span data-i18n="show_outline"></span></label></div><div class="setting-char setting-crew setting-faction"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_show_broadcast" value="1" checked="checked"/><span></span><span data-i18n="show_broadcast"></span></label></div><div class="setting-char setting-crew"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_autofill" value="1" checked="checked"/><span></span><span data-i18n="fill_fields"></span></label></div><div class="setting-char setting-crew"><input class="wide" type="text" spellcheck="false" name="attr_chat_image" value=""/><span data-i18n="chat_image"></span></div><div class="setting-char setting-crew setting-faction kirsty-option"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_usekirsty" value="1"/><span></span><span data-i18n="use_kirsty"></span></label></div><div class="setting-faction"><label><input class="checkbox squarebox" type="checkbox" name="attr_setting_clocks_only" value="1"/><span></span><span data-i18n="clocks_only"></span></label></div></div><!-- Character Sheet--><div class="type-character flex"><!-- Left column--><div class="col55 flex-wrap"><!-- Logo, Header text fields--><div class="col100 header flex"><div class="col55 bladeslogo"></div><label class="col45 header"><input type="text" spellcheck="false" name="attr_faction"/><div class="label text title" data-i18n="faction"></div></label><label class="col55"><input type="text" spellcheck="false" name="attr_name"/><div class="label text title" data-i18n="name"></div></label><label class="col45"><input type="text" spellcheck="false" name="attr_alias"/><div class="label text title" data-i18n="alias"></div></label><label class="col55"><input type="text" spellcheck="false" name="attr_look"/><div class="label text title" data-i18n="look"></div></label><label class="col45"><input type="text" spellcheck="false" name="attr_mask"/><div class="label text title" data-i18n="mask"></div></label><label class="col55"><div class="auto-expand"><span name="attr_neighbourhood"></span><textarea spellcheck="false" name="attr_neighbourhood"></textarea></div><input type="hidden" name="attr_neighbourhood" value=""/><div class="label text title" data-i18n="neighbourhood"></div></label><label class="col45"><div class="auto-expand"><span name="attr_old_job"></span><textarea spellcheck="false" name="attr_old_job"></textarea></div><input type="hidden" name="attr_old_job" value=""/><div class="label text title" data-i18n="old_job"></div></label><input class="vice-input" type="hidden" name="attr_setting_old_habit_type" value="normal"/><label class="col100 vice normal"><div class="auto-expand"><span name="attr_bad_habit"></span><textarea spellcheck="false" name="attr_bad_habit"></textarea></div><input type="hidden" name="attr_bad_habit" value=""/><div class="text"><span class="label title" data-i18n="bad_habit"></span><span class="uppercase info" data-i18n="bad_habit_info"></span></div></label><label class="col100 vice normal"><div class="auto-expand"><span name="attr_goal"></span><textarea spellcheck="false" name="attr_goal"></textarea></div><input type="hidden" name="attr_goal" value=""/><div class="text"><span class="label title" data-i18n="goal"></span></div></label></div><!-- Stress and Trauma--><div class="col35 flex stress def-margin"><!-- Stress markers--><div class="stress1 blackheader"><div class="label"><span data-i18n="hutzpah"></span></div></div><div class="stress2 blackborder flex"><input class="tooth zero" type="radio" name="attr_hutzpah" value="5" checked="checked"/><span></span><input class="tooth stresstooth" type="radio" name="attr_hutzpah" value="1"/><span></span><input class="tooth stresstooth" type="radio" name="attr_hutzpah" value="2"/><span></span><input class="tooth stresstooth" type="radio" name="attr_hutzpah" value="3"/><span></span><input class="tooth stresstooth" type="radio" name="attr_hutzpah" value="4"/><span></span><input class="tooth stresstooth" type="radio" name="attr_hutzpah" value="5"/><span></span><input class="tooth stresstooth" type="radio" name="attr_hutzpah" value="6"/><span></span></div></div><div class="col10 flex"></div><!-- Stress and Trauma--><div class="col15 flex stress def-margin"><!-- Stress markers--><div class="stress1 blackheader"><div class="label"><span data-i18n="prep"></span></div></div><div class="stress2 blackborder flex"><input class="tooth zero" type="radio" name="attr_prep" value="2" checked="checked"/><span></span><input class="tooth stresstooth" type="radio" name="attr_prep" value="1"/><span></span><input class="tooth stresstooth" type="radio" name="attr_prep" value="2"/><span></span></div></div><!-- Harm, Healing, Armor, Coin--><div class="col100 flex def-margin"><!-- Harm--><div class="harm col63"><div class="blackheader col100"><div class="label" data-i18n="harm"></div></div><div class="harmbody"><div class="flex-center harmnumber">3</div><textarea class="twocols" spellcheck="false" name="attr_harm3"></textarea><div class="flex-center harmeffect" data-i18n="need_help"></div><div class="flex-center harmnumber">2</div><textarea spellcheck="false" name="attr_harm2_1"></textarea><textarea spellcheck="false" name="attr_harm2_2"></textarea><div class="flex-center harmeffect" data-i18n="minus1"></div><div class="flex-center harmnumber">1</div><textarea spellcheck="false" name="attr_harm1_1"></textarea><textarea spellcheck="false" name="attr_harm1_2"></textarea><div class="flex-center harmeffect" data-i18n="less_effect"></div></div></div><!-- Armor, Healing and Coin--><div class="col37 flex-wrap"><div class="col45"><div class="blackheader col100"></div></div><!-- Armor--><div class="armor col55"><div class="blackheader col100"><div class="label" data-i18n="armor_uses"></div></div><label><input class="checkbox squarebox" type="checkbox" name="attr_armor" value="1"/><span></span><span class="label" data-i18n="armor"></span></label><label><input class="checkbox squarebox" type="checkbox" name="attr_heavy" value="1"/><span></span><span class="label" data-i18n="+heavy"></span></label><label><input class="checkbox squarebox" type="checkbox" name="attr_special" value="1"/><span></span><span class="label" data-i18n="special"></span></label></div><!-- Coin and Stash--><div class="col100 coin-and-stash"><!-- Coin--><div class="col100 coinrow flex"><div class="coin flex"><div class="label" data-i18n="coin"></div><input class="zero" type="radio" name="attr_coin" value="0" checked="checked"/><span></span><input class="radiobox" type="radio" name="attr_coin" value="1"/><span></span><input class="radiobox" type="radio" name="attr_coin" value="2"/><span></span><input class="radiobox" type="radio" name="attr_coin" value="3"/><span></span><input class="radiobox" type="radio" name="attr_coin" value="4"/><span></span></div><div class="stashbutton-holder"><input type="hidden" name="attr_stash_formula"/><button class="rollbutton label" type="roll" name="roll_Stash" value="&{template:bitd} {{charname=@{character_name}}} {{resist=1}} {{short=1}} {{title=^{stash}}} {{subtitle=^{rolls}}} @{stash_formula} {{charimage=@{chat_image}}}" data-i18n="stash"></button></div></div><!-- Stash--><div class="col100 stash"><input class="zero" type="radio" name="attr_stash" value="0" checked="checked"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="1"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="2"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="3"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="4"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="5"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="6"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="7"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="8"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="9"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="10"/><span></span><br/><input class="radiobox" type="radio" name="attr_stash" value="11"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="12"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="13"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="14"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="15"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="16"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="17"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="18"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="19"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="20"/><span></span><br/><input class="radiobox" type="radio" name="attr_stash" value="21"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="22"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="23"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="24"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="25"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="26"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="27"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="28"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="29"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="30"/><span></span><br/><input class="radiobox" type="radio" name="attr_stash" value="31"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="32"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="33"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="34"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="35"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="36"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="37"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="38"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="39"/><span></span><input class="radiobox" type="radio" name="attr_stash" value="40"/><span></span><br/></div></div></div></div><!-- Special abilities--><div class="col100 def-margin"><div class="specialheader col100 label" data-i18n="special_abilities"></div><div class="greyholder col100"><fieldset class="repeating_ability"><div class="specialability flex"><button class="broadcast-button" type="roll" name="roll_Show" value="&{template:bitd-broadcast} {{charname=@{character_name}}} {{type=^{special_ability}}} {{title=@{name}}} {{content=@{description}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button><input class="checkbox circlebox" type="checkbox" name="attr_check" value="1"/><span></span><div class="auto-expand abilityname smallcaps"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="ability_name"></textarea></div><div class="auto-expand abilitydesc"><span name="attr_description"></span><textarea spellcheck="false" name="attr_description" data-i18n-placeholder="ability_description"></textarea></div></div></fieldset></div></div><!-- Advancement--><div class="col100 def-margin"><div class="advancement-header flex blackheader"><div class="label markxp" data-i18n="mark_xp:"></div><div class="label" data-i18n="playbook_advancement"></div><div class="xpholder flex"><input class="tooth zero" type="radio" name="attr_playbook_xp" value="0" checked="checked"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="1"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="2"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="3"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="4"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="5"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="6"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="7"/><span></span><input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="8"/><span></span></div></div><ul class="advancement-desc"><li data-i18n="6_or_lower"></li><li class="nondot" data-i18n="xp_top"></li><li><div class="auto-expand"><span name="attr_xp_condition"></span><textarea spellcheck="false" name="attr_xp_condition" data-i18n-placeholder="xp_specific"></textarea></div></li><input class="hider" type="hidden" name="attr_setting_extra_xp" value="0"/><li><div class="auto-expand"><span name="attr_xp_condition_extra"></span><textarea spellcheck="false" name="attr_xp_condition_extra" data-i18n-placeholder="xp_specific_extra"></textarea></div></li><li data-i18n="xp_goal"></li><li data-i18n="xp_oldhabit"></li></ul></div><!-- Teamwork--><div class="col45 right-column def-margin"><div class="plainheader label" data-i18n="teamwork"></div><div class="teamworkbox" data-i18n="assist_a_teammate"></div><div class="teamworkbox" data-i18n="lead_a_group_action"></div><div class="teamworkbox" data-i18n="protect_a_teammate"></div><div class="teamworkbox" data-i18n="set_up_a_teammate"></div></div><!-- Gather Information--><div class="col55 right-column def-margin"><div class="gatherinfo col100"><div class="plainheader label" data-i18n="gather_information"></div><div><ul><li><input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo1" data-i18n-placeholder="gatherinfo_what_do_they_intend"/></li><li><input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo2" data-i18n-placeholder="gatherinfo_how_can_I_get_them"/></li><li><input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo3" data-i18n-placeholder="gatherinfo_what_are_they_really"/></li><li><input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo4" data-i18n-placeholder="gatherinfo_what_should_I_look"/></li><li><input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo5" data-i18n-placeholder="gatherinfo_wheres_the_weakness"/></li><li><input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo6" data-i18n-placeholder="gatherinfo_how_can_I_find"/></li><li data-i18n="gatherinfo_whats_going_on"></li></ul></div></div></div></div><!-- Right column--><div class="col45 flex-wrap right-column"><!-- Playbook name and description--><div class="playbook flex"><input class="label" type="text" spellcheck="false" name="attr_playbook" data-i18n-placeholder="playbook"/><textarea class="label" spellcheck="false" name="attr_playbook_description" data-i18n-placeholder="playbook_description"></textarea></div><div class="actions col100"><input type="hidden" name="attr_actions_xp_max" value="6"/><div class="blackheader col100 flex"><div class="label col45" data-i18n="actions"></div><div class="attribute-xp-box flex"><input class="tooth zero" type="radio" name="attr_actions_xp_max_xp" value="0" checked="checked"/><span></span><input class="tooth xptooth" type="radio" name="attr_actions_xp" value="1"/><span></span><input class="tooth xptooth" type="radio" name="attr_actions_xp" value="2"/><span></span><input class="tooth xptooth" type="radio" name="attr_actions_xp" value="3"/><span></span><input class="tooth xptooth" type="radio" name="attr_actions_xp" value="4"/><span></span><input class="tooth xptooth" type="radio" name="attr_actions_xp" value="5"/><span></span><input class="tooth xptooth" type="radio" name="attr_actions_xp" value="6"/><span></span></div></div><div class="col100 action"><div class="action-amount"><input class="tooth zero" type="radio" name="attr_wreck" value="0" checked="checked"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_wreck" value="1"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_wreck" value="2"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_wreck" value="3"/><span></span></div><div class="action-title uppercase"><button class="rollbutton label" type="roll" name="roll_wreck" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{subtitle=^{rolls}}} {{title=^{wreck}}} {{result=[[{2d6 + (@{forward_query}) + @{wreck}}]]}} {{charimage=@{chat_image}}}" data-i18n="wreck" data-i18n-title="wreck_description"></button></div><div class="action-description" data-i18n="wreck_description"></div><input type="hidden" name="attr_wreck" value="0"/></div><div class="col100 action"><div class="action-amount"><input class="tooth zero" type="radio" name="attr_move" value="0" checked="checked"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_move" value="1"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_move" value="2"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_move" value="3"/><span></span></div><div class="action-title uppercase"><button class="rollbutton label" type="roll" name="roll_move" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{subtitle=^{rolls}}} {{title=^{move}}} {{result=[[{2d6 + (@{forward_query}) + @{move}}]]}} {{charimage=@{chat_image}}}" data-i18n="move" data-i18n-title="move_description"></button></div><div class="action-description" data-i18n="move_description"></div><input type="hidden" name="attr_move" value="0"/></div><div class="col100 action"><div class="action-amount"><input class="tooth zero" type="radio" name="attr_hunt" value="0" checked="checked"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_hunt" value="1"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_hunt" value="2"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_hunt" value="3"/><span></span></div><div class="action-title uppercase"><button class="rollbutton label" type="roll" name="roll_hunt" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{subtitle=^{rolls}}} {{title=^{hunt}}} {{result=[[{2d6 + (@{forward_query}) + @{hunt}}]]}} {{charimage=@{chat_image}}}" data-i18n="hunt" data-i18n-title="hunt_description"></button></div><div class="action-description" data-i18n="hunt_description"></div><input type="hidden" name="attr_hunt" value="0"/></div><div class="col100 action"><div class="action-amount"><input class="tooth zero" type="radio" name="attr_tinker" value="0" checked="checked"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_tinker" value="1"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_tinker" value="2"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_tinker" value="3"/><span></span></div><div class="action-title uppercase"><button class="rollbutton label" type="roll" name="roll_tinker" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{subtitle=^{rolls}}} {{title=^{tinker}}} {{result=[[{2d6 + (@{forward_query}) + @{tinker}}]]}} {{charimage=@{chat_image}}}" data-i18n="tinker" data-i18n-title="tinker_description"></button></div><div class="action-description" data-i18n="tinker_description"></div><input type="hidden" name="attr_tinker" value="0"/></div><div class="col100 action"><div class="action-amount"><input class="tooth zero" type="radio" name="attr_study" value="0" checked="checked"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_study" value="1"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_study" value="2"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_study" value="3"/><span></span></div><div class="action-title uppercase"><button class="rollbutton label" type="roll" name="roll_study" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{subtitle=^{rolls}}} {{title=^{study}}} {{result=[[{2d6 + (@{forward_query}) + @{study}}]]}} {{charimage=@{chat_image}}}" data-i18n="study" data-i18n-title="study_description"></button></div><div class="action-description" data-i18n="study_description"></div><input type="hidden" name="attr_study" value="0"/></div><div class="col100 action"><div class="action-amount"><input class="tooth zero" type="radio" name="attr_talk" value="0" checked="checked"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_talk" value="1"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_talk" value="2"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_talk" value="3"/><span></span></div><div class="action-title uppercase"><button class="rollbutton label" type="roll" name="roll_talk" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{subtitle=^{rolls}}} {{title=^{talk}}} {{result=[[{2d6 + (@{forward_query}) + @{talk}}]]}} {{charimage=@{chat_image}}}" data-i18n="talk" data-i18n-title="talk_description"></button></div><div class="action-description" data-i18n="talk_description"></div><input type="hidden" name="attr_talk" value="0"/></div><div class="col100 action"><div class="action-amount"><input class="tooth zero" type="radio" name="attr_connect" value="0" checked="checked"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_connect" value="1"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_connect" value="2"/><span></span><input class="tooth checkbox squarebox stresstooth" type="radio" name="attr_connect" value="3"/><span></span></div><div class="action-title uppercase"><button class="rollbutton label" type="roll" name="roll_connect" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{subtitle=^{rolls}}} {{title=^{connect}}} {{result=[[{2d6 + (@{forward_query}) + @{connect}}]]}} {{charimage=@{chat_image}}}" data-i18n="connect" data-i18n-title="connect_description"></button></div><div class="action-description" data-i18n="connect_description"></div><input type="hidden" name="attr_connect" value="0"/></div></div><!-- Bonus die box--><div class="bonusdie col100"><div class="col100 flex"><div class="flex-center bonusdieplus">REROLL!<button class="rollbutton label" type="roll" name="roll_undefined" value="&{template:bitd} {{charname=@{character_name}}} {{action=1}} {{title=@{bonus_query}}} {{result=[[2d6 + @{action_used}]]}} {{charimage=@{chat_image}}}" data-i18n-title="undefined_description"></button></div></div><div class="col100 flex"><div class="bonusdietext"><div class="label" data-i18n="push_yourself"></div><span data-i18n="push_yourself_desc1"></span><span data-i18n="push_yourself_notes1"></span><span data-i18n="push_yourself_desc2"></span><div class="label" data-i18n="gain-assist"></div><span data-i18n="push_yourself_notes2"></span><span data-i18n="push_yourself_desc3"></span><div class="label" data-i18n="devils_bargain"></div><span data-i18n="push_yourself_notes3"></span></div></div></div><!-- Items and Planning--><div class="col100 itemcolumn small-margin"><!-- Load--><div class="loadheader flex col100"><div class="label" data-i18n="load"></div><div class="load-types"><label><input class="checkbox" type="checkbox" name="attr_load" value="innocent"/><span></span><span class="loadnumber" name="attr_setting_load_i"></span><span data-i18n="innocent"></span></label><label><input class="checkbox" type="checkbox" name="attr_load" value="suspicious"/><span></span><span class="loadnumber" name="attr_setting_load_s"></span><span data-i18n="suspicious"></span></label><label><input class="checkbox" type="checkbox" name="attr_load" value="criminal"/><span></span><span class="loadnumber" name="attr_setting_load_c"></span><span data-i18n="criminal"></span></label></div></div><div class="itemheader small-margin col100 flex"><div class="label" data-i18n="items"></div><span class="italic" data-i18n="italics_dont_count"></span><label class="text-button"><input type="checkbox" name="attr_reset_items" value="1"/><span data-i18n="reset?"></span></label></div><!-- Items--><div class="itemholder col100 items"><!-- Playbook items--><div class="playbookitems col100 free-repcontrol"><fieldset class="repeating_playbookitem"><input class="boxes-chosen" type="hidden" name="attr_boxes_chosen" value="0"/><div class="item numboxes-chooser"><div data-i18n="how_much_load"></div><input type="number" name="attr_numboxes" min="0" max="3" value="0"/><label><input type="checkbox" name="attr_bold" value="1"/><span data-i18n="bold"></span></label><label><input type="checkbox" name="attr_boxes_chosen" value="1"/><span data-i18n="ok"></span></label></div><div class="item"><input class="input-bold" type="hidden" name="attr_bold" value="0"/><input class="numboxes" type="hidden" name="attr_numboxes" value="0"/><input class="checkbox squarebox" type="checkbox" name="attr_check_1" value="1"/><span></span><span class="floatingbar boxesgeq2"></span><input class="checkbox squarebox boxesgeq2" type="checkbox" name="attr_check_2" value="1"/><span class="boxesgeq2"></span><span class="floatingbar boxesgeq3 boxesgeq2"></span><input class="checkbox squarebox boxesgeq2 boxesgeq3" type="checkbox" name="attr_check_3" value="1"/><span class="boxesgeq2 boxesgeq3"></span><div class="auto-expand itemname"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="item_name"></textarea></div></div><div class="item-description"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea></div></fieldset></div><!-- Regular items--><div class="regularitems col100 free-repcontrol free-repcontrol"><fieldset class="repeating_item"><input class="input-short" type="hidden" name="attr_short" value="0"/><input class="input-expand" type="hidden" name="attr_expand" value="0"/><div class="item-container"><input class="boxes-chosen" type="hidden" name="attr_boxes_chosen" value="0"/><div class="item numboxes-chooser"><div data-i18n="how_much_load"></div><input type="number" name="attr_numboxes" min="0" max="3" value="0"/><label><input type="checkbox" name="attr_short" value="1"/><span data-i18n="short"></span></label><label><input type="checkbox" name="attr_boxes_chosen" value="1"/><span data-i18n="ok"></span></label></div><div class="item"><input class="numboxes" type="hidden" name="attr_numboxes" value="0"/><input class="checkbox squarebox" type="checkbox" name="attr_check_1" value="1"/><span></span><span class="floatingbar boxesgeq2"></span><input class="checkbox squarebox boxesgeq2" type="checkbox" name="attr_check_2" value="1"/><span class="boxesgeq2"></span><span class="floatingbar boxesgeq3 boxesgeq2"></span><input class="checkbox squarebox boxesgeq2 boxesgeq3" type="checkbox" name="attr_check_3" value="1"/><span class="boxesgeq2 boxesgeq3"></span><input class="itemname" type="text" spellcheck="false" name="attr_name" data-i18n-placeholder="item_name"/></div><div class="item-description"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea></div></div></fieldset></div></div><!-- Alchemicals--><div class="col100 def-margin"><input class="title-checkbox" type="checkbox" name="attr_show_alchemicals" value="1"/><span class="label plainheader" data-i18n="alchemicals"></span><div class="alchemicals free-repcontrol"><div class="bandolier item"><span class="bandoliers-name" data-i18n="bandoliers"></span><input class="checkbox squarebox" type="checkbox" name="attr_bandolier1_check_1" value="1"/><span></span><span class="floatingbar"></span><input class="checkbox squarebox" type="checkbox" name="attr_bandolier1_check_2" value="1"/><span></span><span class="floatingbar"></span><input class="checkbox squarebox" type="checkbox" name="attr_bandolier1_check_3" value="1"/><span></span><input class="checkbox squarebox" type="checkbox" name="attr_bandolier2_check_1" value="1"/><span></span><span class="floatingbar"></span><input class="checkbox squarebox" type="checkbox" name="attr_bandolier2_check_2" value="1"/><span></span><span class="floatingbar"></span><input class="checkbox squarebox" type="checkbox" name="attr_bandolier2_check_3" value="1"/><span></span></div><div class="bandolier-desc" data-i18n="when_you_use_bandolier"></div><fieldset class="repeating_alchemical"><input class="alchemicals-expand" type="checkbox" name="attr_expand" value="1"/><span></span><div class="auto-expand"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name"></textarea></div><textarea class="alchemicals-info" spellcheck="false" name="attr_description"></textarea></fieldset></div></div><!-- Planning and Load--></div><!-- Action ratings--><div class="col47 right-column actioncolumn small-margin"><!-- Cohort--><input class="hider" type="hidden" name="attr_setting_show_cohort" value="0"/><div class="cohort"><input type="hidden" name="attr_char_cohort_verb" value="^{rolls_their}"/><input type="hidden" name="attr_char_cohort_roll_formula"/><div class="cohort-title flex col100 label"><input class="inherit" type="text" spellcheck="false" name="attr_char_cohort_name" value="Cohort"/></div><div class="cohort-info flex col100 uppercase"><div class="cohort-dropdown"><div><span name="attr_char_cohort_type" data-i18n-dynamic="data-i18n-dynamic"></span></div><div><input type="radio" name="attr_char_cohort_type" value="gang"/><span data-i18n="gang"></span></div><div><input type="radio" name="attr_char_cohort_type" value="elite"/><span data-i18n="elite"></span></div><div><input type="radio" name="attr_char_cohort_type" value="expert" checked="checked"/><span data-i18n="expert"></span></div></div><input class="sheet-inherit" type="text" spellcheck="false" name="attr_char_cohort_subtype" data-i18n-placeholder="hunter"/><div class="label cohort-quality-label" data-i18n="quality_abbreviated">Q:</div><input class="label" type="number" name="attr_char_cohort_quality" min="0" max="5" value="1"/></div><div class="cohort-condition flex col100"><label><span class="cohort-condition-name uppercase" data-i18n="weak"></span><input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_weak" value="1"/><span></span></label><label><span class="cohort-condition-name uppercase" data-i18n="impaired"></span><input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_impaired" value="1"/><span></span></label><label><span class="cohort-condition-name uppercase" data-i18n="broken"></span><input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_broken" value="1"/><span></span></label><label><span class="cohort-condition-name label" data-i18n="armor"></span><input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_armor" value="1"/><span></span></label></div><label class="cohort-edgeflaw"><span class="uppercase" data-i18n="edges"></span><div class="auto-expand"><span name="attr_char_cohort_edges"></span><textarea spellcheck="false" name="attr_char_cohort_edges"></textarea></div></label><label class="cohort-edgeflaw"><span class="uppercase" data-i18n="flaws"></span><div class="auto-expand"><span name="attr_char_cohort_flaws"></span><textarea spellcheck="false" name="attr_char_cohort_flaws"></textarea></div></label><textarea class="cohort-description" spellcheck="false" name="attr_char_cohort_description"></textarea></div><!-- Friends--><div class="col100 def-margin friends"><div class="specialheader col100 label flex"><input class="inherit" type="text" spellcheck="false" name="attr_friends_title" value="Friends"/></div><div class="greyholder col100"><fieldset class="repeating_friend"><div class="friend-contact friend flex"><input class="friendstate" type="hidden" name="attr_status" value="0"/><label class="up"><input class="checkbox" type="checkbox" name="attr_status" value="up"/><span></span></label><label class="down"><input class="checkbox" type="checkbox" name="attr_status" value="down"/><span></span></label><div class="auto-expand"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="friend_name"></textarea></div></div><input class="expand" type="checkbox" name="attr_null" value="1"/><span></span><textarea class="description" spellcheck="false" name="attr_description" data-i18n-placeholder="notes"></textarea></fieldset></div></div></div><!-- Clocks--><div class="col100 clocks def-margin free-repcontrol"><div class="specialheader label" data-i18n="clocks"></div><fieldset class="repeating_clock"><input class="size" type="hidden" name="attr_size" value=""/><div class="auto-expand smallcaps"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="clock_name"></textarea></div><button class="broadcast-button" type="roll" name="roll_Show" value="&{template:bitd-broadcast} {{charname=@{character_name}}} {{title=@{name}}} {{clock=1}} {{clocksize=@{size}}} {{clockprogress=@{progress}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button><div class="size-choice"><label class="text-button"><input type="radio" name="attr_size" value="4"/><span>4</span></label><label class="text-button"><input type="radio" name="attr_size" value="6"/><span>6</span></label><label class="text-button"><input type="radio" name="attr_size" value="8"/><span>8</span></label><label class="text-button"><input type="radio" name="attr_size" value="10"/><span>10</span></label><label class="text-button"><input type="radio" name="attr_size" value="12"/><span>12</span></label></div><div class="clock-container"><div class="spoke-0 all"></div><div class="spoke-30 sheet-12clock"></div><div class="spoke-45 sheet-8clock"></div><div class="spoke-36 sheet-10clock"></div><div class="spoke-60 sheet-6clock sheet-12clock"></div><div class="spoke-72 sheet-10clock"></div><div class="spoke-90 sheet-4clock sheet-8clock sheet-12clock"></div><div class="spoke-108 sheet-10clock"></div><div class="spoke-120 sheet-6clock sheet-12clock"></div><div class="spoke-135 sheet-8clock"></div><div class="spoke-144 sheet-10clock"></div><div class="spoke-150 sheet-12clock"></div><input class="zero input-progress" type="radio" name="attr_progress" value="0" checked="checked"/><span></span><input class="input-progress all" type="radio" name="attr_progress" value="1"/><input class="input-progress all" type="radio" name="attr_progress" value="2"/><input class="input-progress all" type="radio" name="attr_progress" value="3"/><input class="input-progress all" type="radio" name="attr_progress" value="4"/><input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="5"/><input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="6"/><input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="7"/><input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="8"/><input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="9"/><input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="10"/><input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="11"/><input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="12"/><div class="clock"></div></div></fieldset></div><textarea class="notes" spellcheck="false" name="attr_notes" data-i18n-placeholder="notes"></textarea></div></div><!-- Crew Sheet--><div class="type-crew flex"><!-- Left column--><div class="col55 flex-wrap"><!-- Logo, Header text fields--><div class="col100 header flex-wrap"><div class="col55 bladeslogo"></div><div class="col45 crewheader label" data-i18n="crew_sheet"></div><label class="col55"><input type="text" spellcheck="false" name="attr_crew_name"/><div class="label text title" data-i18n="name"></div></label><label class="col45"><input type="text" spellcheck="false" name="attr_core_goal"/><div class="label text title" data-i18n="core_goal"></div></label><label class="col55"><input type="text" spellcheck="false" name="attr_lair"/><div class="label text title" data-i18n="lair"></div></label><label class="col45"><input type="text" spellcheck="false" name="attr_district"/><div class="label text title" data-i18n="district"></div></label></div><!-- Rep, Hold, and Tier--><div class="col100 flex rep-and-hold def-margin"><!-- Hold--><div class="hold flex"><div class="hold1 blackheader"><div class="label" data-i18n="hold"></div></div><label class="blackborder"><div class="black-on-grey"><div class="label" data-i18n="weak"></div></div><input class="tooth holdtooth" type="radio" name="attr_hold" value="weak"/><span></span></label><label class="blackborder"><div class="black-on-grey"><div class="label" data-i18n="strong"></div></div><input class="tooth holdtooth" type="radio" name="attr_hold" value="strong" checked="checked"/><span></span></label><!-- Tier--><div class="blackheader"><button class="label inherit rollbutton" type="roll" name="roll_Tier" value="&{template:bitd} {{charname=@{character_name}}} {{resist=1}} {{short=1}} {{title=^{crew_tier}}} {{subtitle=^{roll_their}}} @{crew_tier_formula} {{charimage=@{chat_image}}}" data-i18n="tier"></button><input type="hidden" name="attr_crew_tier_formula"/></div><div class="tier flex"><input class="hidden fakeradio" type="checkbox" name="attr_crew_tier" value="0" checked="checked"/><input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="1"/><span></span><input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="2"/><span></span><input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="3"/><span></span><input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="4"/><span></span></div></div></div><!-- Heat and Coin--><div class="col100 flex heat-and-vault def-margin"><!-- Heat--><div class="col45 flex heat"><!-- Heat markers--><div class="heat1 blackheader"><div class="label" data-i18n="heat"></div></div><div class="heat2 blackborder flex"><input class="tooth zero" type="radio" name="attr_heat" value="0" checked="checked"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="1"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="2"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="3"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="4"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="5"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="6"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="7"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="8"/><span></span><input class="tooth stresstooth" type="radio" name="attr_heat" value="9"/><span></span></div><!-- Wanted Level--><div class="heat3"><div class="blackheader"><button class="label inherit rollbutton" type="roll" name="roll_Noteriety" value="&{template:bitd} {{charname=@{character_name}}} {{vice=1}} {{short=1}} {{title=^{entanglement}}} {{subtitle=^{wantedroll1}@{heat}&nbsp;^{heat}^{wantedroll2}}} @{wanted_formula} {{charimage=@{chat_image}}}" data-i18n="noteriety"></button><input type="hidden" name="attr_wanted_formula"/></div><div class="wantedholder flex"><input class="tooth zero" type="radio" name="attr_noteriety" value="0" checked="checked"/><span></span><input class="tooth regulartooth" type="radio" name="attr_noteriety" value="1"/><span></span><input class="tooth regulartooth" type="radio" name="attr_noteriety" value="2"/><span></span><input class="tooth regulartooth" type="radio" name="attr_noteriety" value="3"/><span></span><input class="tooth regulartooth" type="radio" name="attr_noteriety" value="4"/><span></span></div></div></div><!-- Coin--><div class="crewcoin col52b"><div class="col100 flex"><div class="blackheader crewcoin1"><div class="label" data-i18n="coin"></div></div><div class="greyheader crewcoin2"><div class="label" data-i18n="vaults"></div></div></div><div class="col100 flex crewcoin-coins"><input class="zero" type="radio" name="attr_crewcoin" value="0" checked="checked"/><span></span><input class="radiobox" type="radio" name="attr_crewcoin" value="1"/><span></span><input class="radiobox" type="radio" name="attr_crewcoin" value="2"/><span></span><input class="radiobox" type="radio" name="attr_crewcoin" value="3"/><span></span><input class="radiobox" type="radio" name="attr_crewcoin" value="4"/><span></span><div class="crewcoinbar"></div><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="5"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="6"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="7"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="8"/><span></span><div class="crewcoinbar"></div><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="9"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="10"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="11"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="12"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="13"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="14"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="15"/><span></span><input class="radiobox vaultcoin" type="radio" name="attr_crewcoin" value="16"/><span></span></div><div class="col100 crewcoin-desc" data-i18n="upon_crew_advance"></div></div></div><!-- Special abilities--><div class="col100 def-margin"><div class="specialheader col100 label" data-i18n="special_abilities"></div><div class="greyholder col100"><fieldset class="repeating_crewability"><div class="specialability flex"><button class="broadcast-button" type="roll" name="roll_Show" value="&{template:bitd-broadcast} {{charname=@{character_name}}} {{type=^{special_ability}}} {{title=@{name}}} {{content=@{description}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button><input class="checkbox circlebox" type="checkbox" name="attr_check" value="1"/><span></span><div class="auto-expand abilityname smallcaps"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="ability_name"></textarea></div><div class="auto-expand abilitydesc"><span name="attr_description"></span><textarea spellcheck="false" name="attr_description" data-i18n-placeholder="ability_description"></textarea></div></div></fieldset></div></div><!-- Advancement--><div class="col100 def-margin"><div class="advancement-header flex blackheader"><div class="label markxp" data-i18n="mark_xp:"></div><div class="label" data-i18n="crew_advancement"></div><div class="xpholder flex"><input class="tooth zero" type="radio" name="attr_crew_xp" value="0" checked="checked"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="1"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="2"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="3"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="4"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="5"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="6"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="7"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="8"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="9"/><span></span><input class="tooth xptooth" type="radio" name="attr_crew_xp" value="10"/><span></span></div></div><ul class="advancement-desc"><li class="nondot" data-i18n="xp_top"></li><li><div class="auto-expand"><span name="attr_crew_xp_condition"></span><textarea spellcheck="false" name="attr_crew_xp_condition" data-i18n-placeholder="xp_crew_specific"></textarea></div></li><input class="hider" type="hidden" name="attr_setting_extra_xp" value="0"/><li><div class="auto-expand"><span name="attr_xp_condition_extra"></span><textarea spellcheck="false" name="attr_xp_condition_extra" data-i18n-placeholder="xp_specific_extra"></textarea></div></li><li data-i18n="xp_contend"></li><li data-i18n="xp_advance"></li><li data-i18n="xp_changerep"></li></ul></div></div><!-- Right column--><div class="col45 flex-wrap right-column"><!-- Crew Type--><div class="playbook flex"><input class="label" type="text" spellcheck="false" name="attr_crew_type" data-i18n-placeholder="crew" placeholder="Crew"/><textarea class="label" spellcheck="false" name="attr_crew_description" data-i18n-placeholder="crew_description" placeholder="A short crew description"></textarea><input class="hider" type="hidden" name="attr_show_playbook_reminder" value="1"/><div class="reminder"><span data-i18n="autofill_reminder_crew"></span><br/><span data-i18n="list_crews"></span></div></div><!-- Upgrades and Hunting Grounds--><div class="col53 small-margin"><!-- Upgrades--><div class="itemheader col100"><span class="label" data-i18n="crew_assets"></span></div><div class="itemholder col100 upgrades"><!-- Specific upgrades--><div class="playbookitems col100 free-repcontrol"><fieldset class="repeating_upgrade"><input class="boxes-chosen" type="hidden" name="attr_boxes_chosen" value="0"/><div class="item numboxes-chooser"><div data-i18n="how_many_boxes"></div><input type="number" name="attr_numboxes" min="1" max="3" value="1"/><label><input type="checkbox" name="attr_boxes_chosen" value="1"/><span data-i18n="ok"></span></label></div><div class="item"><input class="numboxes" type="hidden" name="attr_numboxes" value="1"/><input class="checkbox squarebox" type="checkbox" name="attr_check_1" value="1"/><span></span><span class="floatingbar boxesgeq2"></span><input class="checkbox squarebox boxesgeq2" type="checkbox" name="attr_check_2" value="1"/><span class="boxesgeq2"></span><span class="floatingbar boxesgeq3 boxesgeq2"></span><input class="checkbox squarebox boxesgeq2 boxesgeq3" type="checkbox" name="attr_check_3" value="1"/><span class="boxesgeq2 boxesgeq3"></span><div class="auto-expand itemname"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="an_upgrade"></textarea></div></div><div class="item-description"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea></div></fieldset></div></div><!-- Upgrades--><div class="itemheader col100"><span class="label" data-i18n="crew_gadgets"></span></div><div class="itemholder col100 upgrades"><!-- Specific upgrades--><div class="playbookitems col100 free-repcontrol"><fieldset class="repeating_gadgets"><input class="boxes-chosen" type="hidden" name="attr_boxes_chosen_gadgets" value="0"/><div class="item numboxes-chooser"><div data-i18n="how_many_boxes"></div><input type="number" name="attr_numboxes" min="1" max="3" value="1"/><label><input type="checkbox" name="attr_boxes_chosen_gadgets" value="1"/><span data-i18n="ok"></span></label></div><div class="item"><input class="numboxes" type="hidden" name="attr_numboxes" value="1"/><input class="checkbox squarebox" type="checkbox" name="attr_check_gadget_1" value="1"/><span></span><span class="floatingbar boxesgeq2"></span><input class="checkbox squarebox boxesgeq2" type="checkbox" name="attr_check_gadget_2" value="1"/><span class="boxesgeq2"></span><span class="floatingbar boxesgeq3 boxesgeq2"></span><input class="checkbox squarebox boxesgeq2 boxesgeq3" type="checkbox" name="attr_check_gadget_3" value="1"/><span class="boxesgeq2 boxesgeq3"></span><div class="auto-expand itemname"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="an_upgrade"></textarea></div></div><div class="item-description"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea></div></fieldset></div></div></div><!-- Cohorts and Contacts--><div class="col47 right-column small-margin"><!-- First Cohort--><div class="cohort"><input type="hidden" name="attr_cohort1_verb" value="^{roll_their}"/><input type="hidden" name="attr_cohort1_roll_formula"/><div class="cohort-title flex col100 label"><input class="inherit" type="text" spellcheck="false" name="attr_cohort1_name" value="Cohort"/></div><div class="cohort-info flex col100 uppercase"><div class="cohort-dropdown"><div><span name="attr_cohort1_type" data-i18n-dynamic="data-i18n-dynamic"></span></div><div><input type="radio" name="attr_cohort1_type" value="gang" checked="checked"/><span data-i18n="gang"></span></div><div><input type="radio" name="attr_cohort1_type" value="elite"/><span data-i18n="elite"></span></div><div><input type="radio" name="attr_cohort1_type" value="expert"/><span data-i18n="expert"></span></div></div><input class="sheet-inherit" type="text" spellcheck="false" name="attr_cohort1_subtype" data-i18n-placeholder="gang_type"/></div><div class="cohort-condition flex col100"><label><span class="cohort-condition-name uppercase" data-i18n="weak"></span><input class="tooth stresstooth" type="checkbox" name="attr_cohort1_weak" value="1"/><span></span></label><label><span class="cohort-condition-name uppercase" data-i18n="impaired"></span><input class="tooth stresstooth" type="checkbox" name="attr_cohort1_impaired" value="1"/><span></span></label><label><span class="cohort-condition-name uppercase" data-i18n="broken"></span><input class="tooth stresstooth" type="checkbox" name="attr_cohort1_broken" value="1"/><span></span></label><label><span class="cohort-condition-name label" data-i18n="armor"></span><input class="tooth stresstooth" type="checkbox" name="attr_cohort1_armor" value="1"/><span></span></label></div><label class="cohort-edgeflaw"><span class="uppercase" data-i18n="edges"></span><div class="auto-expand"><span name="attr_cohort1_edges"></span><textarea spellcheck="false" name="attr_cohort1_edges"></textarea></div></label><label class="cohort-edgeflaw"><span class="uppercase" data-i18n="flaws"></span><div class="auto-expand"><span name="attr_cohort1_flaws"></span><textarea spellcheck="false" name="attr_cohort1_flaws"></textarea></div></label><textarea class="cohort-description" spellcheck="false" name="attr_cohort1_description"></textarea></div><!-- Cohort repeating section--><div class="col100 cohorts free-repcontrol"><fieldset class="repeating_cohort"><div class="cohort"><input type="hidden" name="attr_verb" value="^{roll_their}"/><input type="hidden" name="attr_roll_formula"/><div class="cohort-title flex col100 label"><input class="inherit" type="text" spellcheck="false" name="attr_name" value="Cohort"/></div><div class="cohort-info flex col100 uppercase"><div class="cohort-dropdown"><div><span name="attr_type" data-i18n-dynamic="data-i18n-dynamic"></span></div><div><input type="radio" name="attr_type" value="gang" checked="checked"/><span data-i18n="gang"></span></div><div><input type="radio" name="attr_type" value="elite"/><span data-i18n="elite"></span></div><div><input type="radio" name="attr_type" value="expert"/><span data-i18n="expert"></span></div></div><input class="sheet-inherit" type="text" spellcheck="false" name="attr_subtype" data-i18n-placeholder="gang_type"/></div><div class="cohort-condition flex col100"><label><span class="cohort-condition-name uppercase" data-i18n="weak"></span><input class="tooth stresstooth" type="checkbox" name="attr_weak" value="1"/><span></span></label><label><span class="cohort-condition-name uppercase" data-i18n="impaired"></span><input class="tooth stresstooth" type="checkbox" name="attr_impaired" value="1"/><span></span></label><label><span class="cohort-condition-name uppercase" data-i18n="broken"></span><input class="tooth stresstooth" type="checkbox" name="attr_broken" value="1"/><span></span></label><label><span class="cohort-condition-name label" data-i18n="armor"></span><input class="tooth stresstooth" type="checkbox" name="attr_armor" value="1"/><span></span></label></div><label class="cohort-edgeflaw"><span class="uppercase" data-i18n="edges"></span><div class="auto-expand"><span name="attr_edges"></span><textarea spellcheck="false" name="attr_edges"></textarea></div></label><label class="cohort-edgeflaw"><span class="uppercase" data-i18n="flaws"></span><div class="auto-expand"><span name="attr_flaws"></span><textarea spellcheck="false" name="attr_flaws"></textarea></div></label><textarea class="cohort-description" spellcheck="false" name="attr_description"></textarea></div></fieldset></div><!-- Contacts--><div class="col100 def-margin contacts"><div class="specialheader col100 label flex"><input class="inherit" type="text" spellcheck="false" name="attr_contacts_title" value="Contacts"/></div><div class="greyholder col100"><fieldset class="repeating_contact"><div class="friend-contact contact flex"><input class="friendstate" type="hidden" name="attr_check" value="0"/><label><input class="checkbox" type="checkbox" name="attr_check" value="1"/><span></span></label><div class="auto-expand"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="contact_name"></textarea></div></div><input class="expand" type="checkbox" name="attr_null" value="1"/><span></span><textarea class="description" spellcheck="false" name="attr_description" data-i18n-placeholder="notes"></textarea></fieldset></div></div></div><textarea class="notes" spellcheck="false" name="attr_crew_notes" data-i18n-placeholder="notes"></textarea></div></div><!-- Faction Sheet--><input class="input-clocks-only" type="hidden" name="attr_setting_clocks_only" value="0"/><div class="type-faction flex-wrap"><div class="factiontitle flex col100"><input class="label" type="text" spellcheck="false" name="attr_factions_title" value="Factions of Doskvol"/><input class="hider" type="hidden" name="attr_show_faction_generatebutton" value="1"/><label class="generatebutton"><input type="checkbox" name="attr_generate_factions" value="1"/><span data-i18n="generate_factions"></span></label><button class="fortunebutton borderbutton" type="roll" name="roll_Fortune_faction" value="&{template:bitd} {{charname=@{character_name}}} {{fortune=1}} {{title=^{fortune}}} {{short=1}} {{charname=}} @{numberofdice} {{charimage=@{chat_image}}} {{notes=@{notes_query}}} " data-i18n="roll_fortune"></button></div><div class="factions flex free-repcontrol"><div class="col24b"><div class="factions-header flex uppercase"><input class="faction-name label" type="text" spellcheck="false" name="attr_factions1_header" value="Underworld"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span></div><fieldset class="repeating_factions1"><div class="faction"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><input class="faction-name" type="text" spellcheck="false" name="attr_name"/><input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/><input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/><input class="faction-status" type="number" name="attr_status"/><textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea></div></fieldset></div><div class="col24b"><div class="factions-header flex uppercase"><input class="faction-name label" type="text" spellcheck="false" name="attr_factions2_header" value="Institutions"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span></div><fieldset class="repeating_factions2"><div class="faction"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><input class="faction-name" type="text" spellcheck="false" name="attr_name"/><input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/><input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/><input class="faction-status" type="number" name="attr_status"/><textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea></div></fieldset></div><div class="col24b"><div class="factions-header flex uppercase"><input class="faction-name label" type="text" spellcheck="false" name="attr_factions3_header" value="Labor &amp; Trade"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span></div><fieldset class="repeating_factions3"><div class="faction"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><input class="faction-name" type="text" spellcheck="false" name="attr_name"/><input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/><input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/><input class="faction-status" type="number" name="attr_status"/><textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea></div></fieldset><div class="factions-header flex uppercase sheet-def-margin"><input class="faction-name label" type="text" spellcheck="false" name="attr_factions4_header" value="The Fringe"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span></div><fieldset class="repeating_factions4"><div class="faction"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><input class="faction-name" type="text" spellcheck="false" name="attr_name"/><input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/><input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/><input class="faction-status" type="number" name="attr_status"/><textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea></div></fieldset></div><div class="col24b"><div class="factions-header flex uppercase"><input class="faction-name label" type="text" spellcheck="false" name="attr_factions5_header" value="Citizenry"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span></div><fieldset class="repeating_factions5"><div class="faction"><input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span><input class="faction-name" type="text" spellcheck="false" name="attr_name"/><input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/><input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/><input class="faction-status" type="number" name="attr_status"/><textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea></div></fieldset><div class="warblurb def-margin"><div class="label" data-i18n="war"></div><ul><li class="nondot" data-i18n="warblurb1"></li><li data-i18n="warblurb2"></li><li data-i18n="warblurb3"></li><li data-i18n="warblurb4"></li><li data-i18n="warblurb5"></li></ul></div></div></div><div class="clocks col55 free-repcontrol"><div class="specialheader label" data-i18n="clocks"></div><fieldset class="repeating_factionclock"><input class="size" type="hidden" name="attr_size" value=""/><div class="auto-expand smallcaps"><span name="attr_name"></span><textarea spellcheck="false" name="attr_name" data-i18n-placeholder="clock_name"></textarea></div><button class="broadcast-button" type="roll" name="roll_Show" value="&{template:bitd-broadcast} {{charname=@{character_name}}} {{title=@{name}}} {{clock=1}} {{clocksize=@{size}}} {{clockprogress=@{progress}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button><div class="size-choice"><label class="text-button"><input type="radio" name="attr_size" value="4"/><span>4</span></label><label class="text-button"><input type="radio" name="attr_size" value="6"/><span>6</span></label><label class="text-button"><input type="radio" name="attr_size" value="8"/><span>8</span></label><label class="text-button"><input type="radio" name="attr_size" value="10"/><span>10</span></label><label class="text-button"><input type="radio" name="attr_size" value="12"/><span>12</span></label></div><div class="clock-container"><div class="spoke-0 all"></div><div class="spoke-30 sheet-12clock"></div><div class="spoke-45 sheet-8clock"></div><div class="spoke-36 sheet-10clock"></div><div class="spoke-60 sheet-6clock sheet-12clock"></div><div class="spoke-72 sheet-10clock"></div><div class="spoke-90 sheet-4clock sheet-8clock sheet-12clock"></div><div class="spoke-108 sheet-10clock"></div><div class="spoke-120 sheet-6clock sheet-12clock"></div><div class="spoke-135 sheet-8clock"></div><div class="spoke-144 sheet-10clock"></div><div class="spoke-150 sheet-12clock"></div><input class="zero input-progress" type="radio" name="attr_progress" value="0" checked="checked"/><span></span><input class="input-progress all" type="radio" name="attr_progress" value="1"/><input class="input-progress all" type="radio" name="attr_progress" value="2"/><input class="input-progress all" type="radio" name="attr_progress" value="3"/><input class="input-progress all" type="radio" name="attr_progress" value="4"/><input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="5"/><input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="6"/><input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="7"/><input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="8"/><input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="9"/><input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="10"/><input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="11"/><input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="12"/><div class="clock"></div></div></fieldset></div><div class="col45 right-column"><textarea class="notes" spellcheck="false" name="attr_faction_notes" data-i18n-placeholder="notes"></textarea></div></div></div>
<rolltemplate class="sheet-rolltemplate-bitd"><div class="holder{{#action}} action{{/action}}{{#resist}} resist{{/resist}}{{#vice}} vice{{/vice}}{{#fortune}} fortune{{/fortune}}{{#short}} short{{/short}}{{#action}}{{^position}} short{{/position}}{{/action}}"><div class="header{{#charimage}} narrow{{/charimage}}">{{charname}} {{subtitle}}</div><div class="title"><span class="{{#small-title}}small-title{{/small-title}}">{{title}}</span></div><div class="result"><span class="result">{{result}}</span></div></div></rolltemplate>
<script type="text/worker">"use strict";const data={crew:{assassins:{base:{claim_1_desc:"claim_training_rooms_description",claim_1_name:"claim_training_rooms",claim_2_desc:"claim_vice_den_description",claim_2_name:"claim_vice_den",claim_3_desc:"claim_fixer_description",claim_3_name:"claim_fixer",claim_4_desc:"claim_informants_description",claim_4_name:"claim_informants",claim_5_desc:"claim_hagfish_farm_description",claim_5_name:"claim_hagfish_farm",claim_6_desc:"claim_victim_trophies_description",claim_6_name:"claim_victim_trophies",claim_7_name:"claim_turf",claim_9_name:"claim_turf",claim_10_desc:"claim_cover_operation_description",claim_10_name:"claim_cover_operation",claim_11_desc:"claim_protection_racket_description",claim_11_name:"claim_protection_racket",claim_12_desc:"claim_infirmary_description",claim_12_name:"claim_infirmary",claim_13_desc:"claim_envoy_description",claim_13_name:"claim_envoy",claim_14_desc:"claim_cover_identities_description",claim_14_name:"claim_cover_identities",claim_15_desc:"claim_city_records_description",claim_15_name:"claim_city_records",claim_bridge_2_3:"0",claim_bridge_3_4:"0",claim_bridge_6_7:"0",claim_bridge_9_14:"0",claim_bridge_12_13:"0",claim_bridge_13_14:"0",crew_description:"crew_assassins_description",crew_xp_condition:"crew_assassins_xp_condition",hunting_grounds_type:"crew_assassins_hunting_grounds_type",hunting_grounds_description:"crew_assassins_hunting_grounds_description",upgrade_20_check_1:"1",upgrade_21_check_1:"1"},crewability:["deadly","crow's_veil","emberdeath","no_traces","patron","predators","vipers","veteran"],upgrade:[{name:"crew_upgrade_hardened",numboxes:"3"},{name:"crew_upgrade_assassin_rigging",numboxes:"1"},{name:"crew_upgrade_ironhook_contacts",numboxes:"1"},{name:"crew_upgrade_elite_skulks",numboxes:"1"},{name:"crew_upgrade_elite_thugs",numboxes:"1"}]},bravos:{base:{claim_1_desc:"claim_barracks_description",claim_1_name:"claim_barracks",claim_2_name:"claim_turf",claim_3_desc:"claim_terrorized_citizens_description",claim_3_name:"claim_terrorized_citizens",claim_4_desc:"claim_informants_description",claim_4_name:"claim_informants",claim_5_desc:"claim_protection_racket_description",claim_5_name:"claim_protection_racket",claim_6_desc:"claim_fighting_pits_description",claim_6_name:"claim_fighting_pits",claim_7_name:"claim_turf",claim_9_name:"claim_turf",claim_10_name:"claim_turf",claim_11_desc:"claim_infirmary_description",claim_11_name:"claim_infirmary",claim_12_desc:"claim_bluecoat_intimidation_description",claim_12_name:"claim_bluecoat_intimidation",claim_13_desc:"claim_street_fence_description",claim_13_name:"claim_street_fence",claim_14_desc:"claim_warehouses_description",claim_14_name:"claim_warehouses",claim_15_desc:"claim_bluecoat_confederates_description",claim_15_name:"claim_bluecoat_confederates",claim_bridge_3_4:"0",claim_bridge_2_7:"0",claim_bridge_12_13:"0",cohort1_subtype:"thugs",crew_description:"crew_bravos_description",crew_xp_condition:"crew_bravos_xp_condition",hunting_grounds_type:"crew_bravos_hunting_grounds_type",hunting_grounds_description:"crew_bravos_hunting_grounds_description",upgrade_21_check_1:"1"},crewability:["dangerous","blood_brothers","door_kickers","fiends","forged_in_the_fire","patron","war_dogs","veteran"],upgrade:[{name:"crew_upgrade_hardened",numboxes:"3"},{name:"crew_upgrade_bravos_rigging",numboxes:"1"},{name:"crew_upgrade_ironhook_contacts",numboxes:"1"},{name:"crew_upgrade_elite_rovers",numboxes:"1"},{name:"crew_upgrade_elite_thugs",numboxes:"1"}]},cult:{base:{claim_1_desc:"claim_cloister_description",claim_1_name:"claim_cloister",claim_2_desc:"claim_vice_den_description",claim_2_name:"claim_vice_den",claim_3_desc:"claim_offertory_description",claim_3_name:"claim_offertory",claim_4_desc:"claim_ancient_obelisk_description",claim_4_name:"claim_ancient_obelisk",claim_5_desc:"claim_ancient_tower_description",claim_5_name:"claim_ancient_tower",claim_6_name:"claim_turf",claim_7_name:"claim_turf",claim_9_name:"claim_turf",claim_10_name:"claim_turf",claim_11_desc:"claim_spirit_well_description",claim_11_name:"claim_spirit_well",claim_12_desc:"claim_ancient_gate_description",claim_12_name:"claim_ancient_gate",claim_13_desc:"claim_sanctuary_description",claim_13_name:"claim_sanctuary",claim_14_desc:"claim_sacred_nexus_description",claim_14_name:"claim_sacred_nexus",claim_15_desc:"claim_ancient_altar_description",claim_15_name:"claim_ancient_altar",claim_bridge_3_4:"0",claim_bridge_4_9:"0",claim_bridge_6_11:"0",claim_bridge_12_13:"0",claim_bridge_13_14:"0",cohort1_subtype:"adepts",crew_description:"crew_cult_description",crew_xp_condition:"crew_cult_xp_condition",hunting_grounds_type:"crew_cult_hunting_grounds_type",hunting_grounds_description:"crew_cult_hunting_grounds_description",setting_show_deity:"1",upgrade_22_check_1:"1"},crewability:["chosen","anointed","bound_in_darkness","conviction","glory_incarnate","sealed_in_blood","zealotry","veteran"],upgrade:[{name:"crew_upgrade_ordained",numboxes:"3"},{name:"crew_upgrade_cult_rigging",numboxes:"1"},{name:"crew_upgrade_ritual_sanctum_in_lair",numboxes:"1"},{name:"crew_upgrade_elite_adepts",numboxes:"1"},{name:"crew_upgrade_elite_thugs",numboxes:"1"}]},hawkers:{base:{claim_1_name:"claim_turf",claim_2_desc:"claim_personal_clothier_description",claim_2_name:"claim_personal_clothier",claim_3_desc:"claim_local_graft_description",claim_3_name:"claim_local_graft",claim_4_desc:"claim_lookouts_description",claim_4_name:"claim_lookouts",claim_5_desc:"claim_informants_description",claim_5_name:"claim_informants",claim_6_name:"claim_turf",claim_7_name:"claim_turf",claim_9_name:"claim_turf",claim_10_desc:"claim_luxury_venue_description",claim_10_name:"claim_luxury_venue",claim_11_desc:"claim_foreign_market_description",claim_11_name:"claim_foreign_market",claim_12_desc:"claim_vice_den_description",claim_12_name:"claim_vice_den",claim_13_desc:"claim_surplus_caches_description",claim_13_name:"claim_surplus_caches",claim_14_desc:"claim_cover_operation_description",claim_14_name:"claim_cover_operation",claim_15_desc:"claim_cover_identities_description",claim_15_name:"claim_cover_identities",claim_bridge_2_3:"0",claim_bridge_3_4:"0",claim_bridge_6_7:"0",claim_bridge_10_15:"0",claim_bridge_12_13:"0",claim_bridge_13_14:"0",crew_description:"crew_hawkers_description",crew_xp_condition:"crew_hawkers_xp_condition",hunting_grounds_type:"crew_hawkers_hunting_grounds_type",hunting_grounds_description:"crew_hawkers_hunting_grounds_description",upgrade_14_check_1:"1",upgrade_22_check_1:"1"},crewability:["silver_tongues","accord","the_good_stuff","ghost_market","high_society","hooked","patron","veteran"],upgrade:[{name:"crew_upgrade_composed",numboxes:"3"},{name:"crew_upgrade_hawker's_rigging",numboxes:"1"},{name:"crew_upgrade_ironhook_contacts",numboxes:"1"},{name:"crew_upgrade_elite_rooks",numboxes:"1"},{name:"crew_upgrade_elite_thugs",numboxes:"1"}]},shadows:{base:{claim_1_desc:"claim_interrogation_chamber_description",claim_1_name:"claim_interrogation_chamber",claim_2_name:"claim_turf",claim_3_desc:"claim_loyal_fence_description",claim_3_name:"claim_loyal_fence",claim_4_desc:"claim_gambling_den_description",claim_4_name:"claim_gambling_den",claim_5_desc:"claim_tavern_description",claim_5_name:"claim_tavern",claim_6_desc:"claim_drug_den_description",claim_6_name:"claim_drug_den",claim_7_desc:"claim_informants_description",claim_7_name:"claim_informants",claim_9_name:"claim_turf",claim_10_desc:"claim_lookouts_description",claim_10_name:"claim_lookouts",claim_11_desc:"claim_hagfish_farm_description",claim_11_name:"claim_hagfish_farm",claim_12_desc:"claim_infirmary_description",claim_12_name:"claim_infirmary",claim_13_desc:"claim_covert_drops_description",claim_13_name:"claim_covert_drops",claim_14_name:"claim_turf",claim_15_desc:"claim_secret_pathways_description",claim_15_name:"claim_secret_pathways",claim_bridge_3_4:"0",claim_bridge_2_7:"0",claim_bridge_9_14:"0",claim_bridge_12_13:"0",crew_description:"crew_shadows_description",crew_xp_condition:"crew_shadows_xp_condition",hunting_grounds_type:"crew_shadows_hunting_grounds_type",hunting_grounds_description:"crew_shadows_hunting_grounds_description",upgrade_10_check_1:"1",upgrade_21_check_1:"1"},crewability:["everyone_steals","ghost_echoes","pack_rats","patron","second_story","slippery","synchronized","veteran"],upgrade:[{name:"crew_upgrade_steady",numboxes:"3"},{name:"crew_upgrade_thief_rigging",numboxes:"1"},{name:"crew_upgrade_underground_maps_&_passkeys",numboxes:"1"},{name:"crew_upgrade_elite_rooks",numboxes:"1"},{name:"crew_upgrade_elite_skulks",numboxes:"1"}]},smugglers:{base:{claim_1_name:"claim_turf",claim_2_desc:"claim_side_business_description",claim_2_name:"claim_side_business",claim_3_desc:"claim_luxury_fence_description",claim_3_name:"claim_luxury_fence",claim_4_desc:"claim_vice_den_description",claim_4_name:"claim_vice_den",claim_5_desc:"claim_tavern_description",claim_5_name:"claim_tavern",claim_6_desc:"claim_ancient_gate_description",claim_6_name:"claim_ancient_gate",claim_7_name:"claim_turf",claim_9_name:"claim_turf",claim_10_name:"claim_turf",claim_11_desc:"claim_secret_routes_description",claim_11_name:"claim_secret_routes",claim_12_desc:"claim_informants_description",claim_12_name:"claim_informants",claim_13_desc:"claim_fleet_description",claim_13_name:"claim_fleet",claim_14_desc:"claim_cover_operation_description",claim_14_name:"claim_cover_operation",claim_15_desc:"claim_warehouse_description",claim_15_name:"claim_warehouse",claim_bridge_2_3:"0",claim_bridge_3_4:"0",claim_bridge_6_7:"0",claim_bridge_12_13:"0",claim_bridge_13_14:"0",cohort1_description:"vehicle_edges_flaws",cohort1_name:"vehicle",cohort1_subtype:"boat_carriage_other",cohort1_type:"expert",crew_description:"crew_smugglers_description",crew_xp_condition:"crew_smugglers_xp_condition",hunting_grounds_type:"crew_smugglers_hunting_grounds_type",hunting_grounds_description:"crew_smugglers_hunting_grounds_description",upgrade_6_check_1:"1",upgrade_6_name:"vehicle",upgrade_8_name:"vehicle",upgrade_21_check_1:"1"},crewability:["like_part_of_the_family","all_hands","ghost_passage","just_passing_through","leverage","reavers","renegades","veteran"],upgrade:[{name:"crew_upgrade_steady",numboxes:"3"},{name:"crew_upgrade_smuggler's_rigging",numboxes:"1"},{name:"crew_upgrade_camouflage",numboxes:"1"},{name:"crew_upgrade_elite_rovers",numboxes:"1"},{name:"crew_upgrade_barge",numboxes:"1"}]},vigilantes:{base:{claim_1_desc:"claim_fierce_allies_description",claim_1_name:"claim_fierce_allies",claim_2_desc:"claim_local_heroes_description",claim_2_name:"claim_local_heroes",claim_3_desc:"claim_publicity_description",claim_3_name:"claim_publicity",claim_4_desc:"claim_hidden_paths_description",claim_4_name:"claim_hidden_paths",claim_5_desc:"claim_catacombs_description",claim_5_name:"claim_catacombs",claim_6_desc:"claim_defiant_citizens_description",claim_6_name:"claim_defiant_citizens",claim_7_name:"claim_turf",claim_9_name:"claim_turf",claim_10_desc:"claim_infirmary_description",claim_10_name:"claim_infirmary",claim_11_desc:"claim_above_the_law_description",claim_11_name:"claim_above_the_law",claim_12_desc:"claim_bluecoat_confidants_description",claim_12_name:"claim_bluecoat_confidants",claim_13_desc:"claim_lookouts_description",claim_13_name:"claim_lookouts",claim_14_desc:"claim_the_hookup_description",claim_14_name:"claim_the_hookup",claim_15_desc:"claim_doskvol's_most_wanted_description",claim_15_name:"claim_doskvol's_most_wanted",claim_bridge_2_3:"0",claim_bridge_3_4:"0",claim_bridge_6_11:"0",claim_bridge_10_15:"0",claim_bridge_12_13:"0",claim_bridge_13_14:"0",cohort1_type:"expert",crew_description:"crew_vigilantes_description",crew_xp_condition:"crew_vigilantes_xp_condition",hunting_grounds_type:"crew_vigilantes_hunting_grounds_type",hunting_grounds_description:"crew_vigilantes_hunting_grounds_description",setting_show_origin:"1",upgrade_22_check_1:"1"},crewability:["as_good_as_your_word","avengers","thorn_in_your_side","misdirection","uncanny_preparation","moral_compass","favors","roots","veteran"],upgrade:[{name:"crew_upgrade_unbroken",numboxes:"3"},{name:"crew_upgrade_vigilantes_attire",numboxes:"1"},{name:"crew_upgrade_dedicated_crafters",numboxes:"1"},{name:"crew_upgrade_irregulars",numboxes:"1"},{name:"crew_upgrade_willing_to_fight",numboxes:"1"}]}},playbook:{cutter:{ability:["battleborn","bodyguard","ghost_fighter","leader","mule","not_to_be_trifled_with","savage","vigorous","veteran"],base:{command:"1",friends_title:"playbook_cutter_friends_title",gatherinfo1:"gatherinfo_how_can_I_hurt",gatherinfo2:"gatherinfo_whos_most_afraid",gatherinfo3:"gatherinfo_whos_most_dangerous",gatherinfo4:"gatherinfo_what_do_they_intend",gatherinfo5:"gatherinfo_how_can_I_get_them",gatherinfo6:"gatherinfo_are_they_telling",playbook_description:"playbook_cutter_description",skirmish:"2",xp_condition:"playbook_cutter_xp_condition"},playbookitem:[{bold:"1",name:"playbook_item_fine_hand_weapon",numboxes:"1"},{bold:"1",name:"playbook_item_fine_heavy_weapon",numboxes:"2"},{name:"playbook_item_scary_weapon_or_tool",numboxes:"1"},{name:"playbook_item_manacles_&_chain",numboxes:"0"},{name:"playbook_item_rage_essence_vial",numboxes:"0"},{name:"playbook_item_spiritbane_charm",numboxes:"0"}]},ghost:{ability:["ghost_form","dissipate","manifest","poltergeist","possess","veteran"],base:{friends_title:"playbook_ghost_friends_title",gatherinfo1:"gatherinfo_what_do_they_intend",gatherinfo2:"gatherinfo_how_can_I_get_them",gatherinfo3:"gatherinfo_what_are_they_really",gatherinfo4:"gatherinfo_what_should_I_look",gatherinfo5:"gatherinfo_wheres_the_weakness",gatherinfo6:"gatherinfo_how_can_I_find",playbook_description:"playbook_ghost_description",setting_stress_label:"drain",setting_trauma_label:"gloom",setting_traumata_set:"ghost",setting_vice_type:"ghost",xp_condition:"playbook_ghost_xp_condition",xp_condition2:"playbook_ghost_xp_condition2",xp_condition3:"playbook_ghost_xp_condition3"},playbookitem:[]},hound:{ability:["sharpshooter","focused","ghost_hunter","scout","survivor","tough_as_nails","vengeful","veteran"],base:{char_cohort_name:"hunting_pet",char_cohort_subtype:"hunter",friends_title:"playbook_hound_friends_title",gatherinfo1:"gatherinfo_what_do_they_intend",gatherinfo2:"gatherinfo_how_can_I_get_them",gatherinfo3:"gatherinfo_what_are_they_really",gatherinfo4:"gatherinfo_where_they_vulnerable",gatherinfo5:"gatherinfo_where_did_x_go",gatherinfo6:"gatherinfo_how_can_I_find",hunt:"2",playbook_description:"playbook_hound_description",setting_show_cohort:"1",survey:"1",xp_condition:"playbook_hound_xp_condition"},playbookitem:[{bold:"1",name:"playbook_item_fine_pair_of_pistols",numboxes:"1"},{bold:"1",name:"playbook_item_fine_long_rifle",numboxes:"2"},{name:"playbook_item_electroplasmic_ammunition",numboxes:"1"},{name:"playbook_item_a_trained_hunting_pet",numboxes:"0"},{name:"playbook_item_spyglass",numboxes:"1"},{name:"playbook_item_spiritbane_charm",numboxes:"0"}]},hull:{ability:["automaton","overcharge","compartments","electroplasmic_projectors","interface","secondary_hull","frame_upgrade"],base:{gatherinfo1:"gatherinfo_what_do_they_intend",gatherinfo2:"gatherinfo_how_can_I_get_them",gatherinfo3:"gatherinfo_what_are_they_really",gatherinfo4:"gatherinfo_what_should_I_look",gatherinfo5:"gatherinfo_wheres_the_weakness",gatherinfo6:"gatherinfo_how_can_I_find",playbook_description:"playbook_hull_description",setting_load_h:"7",setting_extra_stress:"1",setting_show_frame:"1",setting_stress_label:"drain",setting_trauma_label:"wear",setting_traumata_set:"hull",setting_vice_type:"hull",xp_condition:"playbook_hull_xp_condition",xp_condition2:"playbook_hull_xp_condition2",xp_condition3:"playbook_hull_xp_condition3"},playbookitem:[]},leech:{ability:["alchemist","analyst","artificer","fortitude","ghost_ward","physicker","saboteur","venomous","veteran"],base:{friends_title:"playbook_leech_friends_title",gatherinfo1:"gatherinfo_what_do_they_intend",gatherinfo2:"gatherinfo_how_can_I_get_them",gatherinfo3:"gatherinfo_are_they_telling",gatherinfo4:"gatherinfo_what_can_I_tinker",gatherinfo5:"gatherinfo_what_might_happen",gatherinfo6:"gatherinfo_how_can_I_find",playbook_description:"playbook_leech_description",tinker:"2",wreck:"1",xp_condition:"playbook_leech_xp_condition"},playbookitem:[{bold:"1",name:"playbook_item_fine_tinkering_tools",numboxes:"1"},{bold:"1",name:"playbook_item_fine_wrecking_tools",numboxes:"2"},{name:"playbook_item_blowgun_&_darts,_syringes",numboxes:"0"},{name:"playbook_item_bandolier_of_alchemicals_(3)",numboxes:"1"},{name:"playbook_item_bandolier_of_alchemicals_(3)",numboxes:"1"},{name:"playbook_item_gadget",numboxes:"1"}]},lurk:{ability:["infiltrator","ambush","daredevil","the_devil's_footsteps","expertise","ghost_veil","reflexes","shadow","veteran"],base:{friends_title:"playbook_lurk_friends_title",finesse:"1",gatherinfo1:"gatherinfo_what_do_they_intend",gatherinfo2:"gatherinfo_how_can_I_get_them",gatherinfo3:"gatherinfo_what_should_I_look",gatherinfo4:"gatherinfo_whats_the_best_way",gatherinfo5:"gatherinfo_where_can_I_hide",gatherinfo6:"gatherinfo_how_can_I_find",playbook_description:"playbook_lurk_description",prowl:"2",xp_condition:"playbook_lurk_xp_condition"},playbookitem:[{bold:"1",name:"playbook_item_fine_lockpicks",numboxes:"0"},{bold:"1",name:"playbook_item_fine_shadow_cloak",numboxes:"1"},{name:"playbook_item_light_climbing_gear",numboxes:"1"},{name:"playbook_item_silence_potion_vial",numboxes:"0"},{name:"playbook_item_dark-sight_goggles",numboxes:"1"},{name:"playbook_item_spiritbane_charm",numboxes:"0"}]},slide:{ability:["rook's_gambit","cloak_&_dagger","ghost_voice","like_looking_into_a_mirror","a_little_something_on_the_side","mesmerism","subterfuge","trust_in_me","veteran"],base:{friends_title:"playbook_slide_friends_title",consort:"1",gatherinfo1:"gatherinfo_what_do_they_intend",gatherinfo2:"gatherinfo_how_can_I_get_them",gatherinfo3:"gatherinfo_are_they_telling",gatherinfo4:"gatherinfo_what_are_they_really",gatherinfo5:"gatherinfo_what_do_they_really",gatherinfo6:"gatherinfo_how_can_I_blend",playbook_description:"playbook_slide_description",sway:"2",xp_condition:"playbook_slide_xp_condition"},playbookitem:[{bold:"1",name:"playbook_item_fine_clothes_&_jewelry",numboxes:"0"},{bold:"1",name:"playbook_item_fine_disguise_kit",numboxes:"1"},{bold:"1",name:"playbook_item_fine_loaded_dice,_trick_cards",numboxes:"0"},{name:"playbook_item_trance_powder",numboxes:"0"},{name:"playbook_item_a_cane-sword",numboxes:"1"},{name:"playbook_item_spiritbane_charm",numboxes:"0"}]},spider:{ability:["foresight","calculating","connected","functioning_vice","ghost_contract","jail_bird","mastermind","weaving_the_web","veteran"],base:{consort:"2",friends_title:"playbook_spider_friends_title",gatherinfo1:"gatherinfo_what_do_they_want",gatherinfo2:"gatherinfo_what_should_I_look",gatherinfo3:"gatherinfo_wheres_the_leverage",gatherinfo4:"gatherinfo_how_can_I_discover",gatherinfo5:"gatherinfo_what_do_they_intend",gatherinfo6:"gatherinfo_how_can_I_get_them",playbook_description:"playbook_spider_description",study:"1",xp_condition:"playbook_spider_xp_condition"},playbookitem:[{bold:"1",name:"playbook_item_fine_cover_identity",numboxes:"0"},{bold:"1",name:"playbook_item_fine_bottle_of_whiskey",numboxes:"1"},{name:"playbook_item_blueprints",numboxes:"1"},{name:"playbook_item_vial_of_slumber_essence",numboxes:"0"},{name:"playbook_item_concealed_palm_pistol",numboxes:"0"},{name:"playbook_item_spiritbane_charm",numboxes:"0"}]},whisper:{ability:["compel","ghost_mind","iron_will","occultist","ritual","strange_methods","tempest","warded"],base:{attune:"2",friends_title:"playbook_whisper_friends_title",gatherinfo1:"gatherinfo_what_is_arcane",gatherinfo2:"gatherinfo_what_echoes",gatherinfo3:"gatherinfo_what_is_hidden",gatherinfo4:"gatherinfo_what_do_they_intend",gatherinfo5:"gatherinfo_what_drives_them",gatherinfo6:"gatherinfo_how_can_I_reveal",playbook_description:"playbook_whisper_description",study:"1",xp_condition:"playbook_whisper_xp_condition"},playbookitem:[{bold:"1",name:"playbook_item_fine_lightning_hook",numboxes:"1"},{bold:"1",name:"playbook_item_fine_spirit_mask",numboxes:"1"},{name:"playbook_item_electroplasm_vials",numboxes:"0"},{name:"playbook_item_spirit_bottles_(2)",numboxes:"1"},{name:"playbook_item_ghost_key",numboxes:"0"},{name:"playbook_item_demonbane_charm",numboxes:"0"}]},vampire:{ability:["undead","terrible_power","arcane_sight","a_void_in_the_echo","dark_talent","sinister_guile","veteran"],base:{friends_title:"playbook_vampire_friends_title",gatherinfo1:"gatherinfo_what_do_they_intend",gatherinfo2:"gatherinfo_how_can_I_get_them",gatherinfo3:"gatherinfo_what_are_they_really",gatherinfo4:"gatherinfo_what_should_I_look",gatherinfo5:"gatherinfo_wheres_the_weakness",gatherinfo6:"gatherinfo_how_can_I_find",playbook_description:"playbook_vampire_description",setting_extra_stress:"3",setting_show_strictures:"1",setting_vice_type:"vampire",trauma:"4",xp_condition:"playbook_vampire_xp_condition",xp_condition2:"playbook_vampire_xp_condition2",xp_condition3:"playbook_vampire_xp_condition3"},playbookitem:[{bold:"1",name:"playbook_item_fine_clothes_and_accoutrements",numboxes:"0"},{bold:"1",name:"playbook_item_fine_personal_weapon",numboxes:"1"},{bold:"1",name:"playbook_item_fine_shadow_cloak",numboxes:"1"},{name:"playbook_item_demonbane_charm",numboxes:"0"},{name:"playbook_item_spiritbane_charm",numboxes:"0"}]}},factions:{factions1:[{name:"faction_the_unseen",tier:"IV",hold:"S"},{name:"faction_the_hive",tier:"IV",hold:"S"},{name:"faction_the_circle_of_flame",tier:"III",hold:"S"},{name:"faction_the_silver_nails",tier:"III",hold:"S"},{name:"faction_lord_scurlock",tier:"III",hold:"S"},{name:"faction_the_crows",tier:"II",hold:"W"},{name:"faction_the_lampblacks",tier:"II",hold:"W"},{name:"faction_the_red_sashes",tier:"II",hold:"W"},{name:"faction_the_dimmer_sisters",tier:"II",hold:"S"},{name:"faction_the_grinders",tier:"II",hold:"W"},{name:"faction_the_billhooks",tier:"II",hold:"W"},{name:"faction_the_wraiths",tier:"II",hold:"W"},{name:"faction_the_gray_cloaks",tier:"II",hold:"S"},{name:"faction_ulf_ironborn",tier:"I",hold:"S"},{name:"faction_the_foghounds",tier:"I",hold:"W"},{name:"faction_the_lost",tier:"I",hold:"W"}],factions2:[{name:"faction_imperial_military",tier:"VI",hold:"S"},{name:"faction_city_council",tier:"V",hold:"S"},{name:"faction_ministry_of_preservation",tier:"V",hold:"S"},{name:"faction_leviathan_hunters",tier:"V",hold:"S"},{name:"faction_ironhook_prison",tier:"IV",hold:"S"},{name:"faction_sparkwrights",tier:"IV",hold:"S"},{name:"faction_spirit_wardens",tier:"IV",hold:"S"},{name:"faction_bluecoats",tier:"III",hold:"S"},{name:"faction_inspectors",tier:"III",hold:"S"},{name:"faction_iruvian_consulate",tier:"III",hold:"S"},{name:"faction_skovlan_consulate",tier:"III",hold:"W"},{name:"faction_the_brigade",tier:"II",hold:"S"},{name:"faction_severosi_consulate",tier:"I",hold:"S"},{name:"faction_dagger_isles_consulate",tier:"I",hold:"S"}],factions3:[{name:"faction_the_foundation",tier:"IV",hold:"S"},{name:"faction_dockers",tier:"III",hold:"S"},{name:"faction_gondoliers",tier:"III",hold:"S"},{name:"faction_sailors",tier:"III",hold:"W"},{name:"faction_laborers",tier:"III",hold:"W"},{name:"faction_cabbies",tier:"II",hold:"W"},{name:"faction_cyphers",tier:"II",hold:"S"},{name:"faction_ink_rakes",tier:"II",hold:"W"},{name:"faction_rail_jacks",tier:"II",hold:"W"},{name:"faction_servants",tier:"II",hold:"W"}],factions4:[{name:"faction_the_church_of_ecstasy",tier:"IV",hold:"S"},{name:"faction_the_horde",tier:"III",hold:"S"},{name:"faction_the_path_of_echoes",tier:"III",hold:"S"},{name:"faction_the_forgotten_gods",tier:"III",hold:"W"},{name:"faction_the_reconciled",tier:"III",hold:"S"},{name:"faction_skovlander_refugees",tier:"III",hold:"W"},{name:"faction_the_weeping_lady",tier:"II",hold:"S"},{name:"faction_deathlands_scavengers",tier:"II",hold:"W"}],factions5:[{name:"faction_whitecrown",tier:"V",hold:"S"},{name:"faction_brightstone",tier:"IV",hold:"S"},{name:"faction_charterhall",tier:"IV",hold:"S"},{name:"faction_six_towers",tier:"III",hold:"W"},{name:"faction_silkshore",tier:"II",hold:"S"},{name:"faction_nightmarket",tier:"II",hold:"S"},{name:"faction_crow's_foot",tier:"II",hold:"S"},{name:"faction_the_docks",tier:"II",hold:"S"},{name:"faction_barrowcleft",tier:"II",hold:"S"},{name:"faction_coalridge",tier:"II",hold:"W"},{name:"faction_charhollow",tier:"I",hold:"S"},{name:"faction_dunslough",tier:"I",hold:"W"}]},actions:["wreck","move","hunt","tinker","study","talk","connect"],traumas:{normal:["cold","haunted","obsessed","paranoid","reckless","soft","unstable","vicious"],ghost:["chaotic","destructive","furious","obsessive","territorial","savage"],hull:["clanking","leaking","fixated","smoking","sparking","unstable"]},items:[{name:"a_blade_or_two",description:"a_blade_or_two_description",numboxes:"1"},{name:"throwing_knives",description:"throwing_knives_description",numboxes:"1"},{name:"a_pistol",description:"a_pistol_description",numboxes:"1",short:"1"},{name:"a_2nd_pistol",description:"a_pistol_description",numboxes:"1",short:"1"},{name:"a_large_weapon",description:"a_large_weapon_description",numboxes:"2"},{name:"an_unusual_weapon",description:"an_unusual_weapon_description",numboxes:"1"},{name:"armor",description:"armor_description",numboxes:"2",short:"1"},{name:"+heavy",description:"+heavy_description",numboxes:"3",short:"1"},{name:"burglary_gear",description:"burglary_gear_description",numboxes:"1"},{name:"climbing_gear",description:"climbing_gear_description",numboxes:"2"},{name:"arcane_implements",description:"arcane_implements_description",numboxes:"1"},{name:"documents",description:"documents_description",numboxes:"1"},{name:"subterfuge_supplies",description:"subterfuge_supplies_description",numboxes:"1"},{name:"demolition_tools",description:"demolition_tools_description",numboxes:"2"},{name:"tinkering_tools",description:"tinkering_tools_description",numboxes:"1"},{name:"lantern",description:"lantern_description",numboxes:"1"}],alchemicals:["alcahest","binding_oil","drift_oil","drown_powder","eyeblind_poison","fire_oil","grenade","quicksilver","skullfire_poison","smoke_bomb","spark_drug","standstill_poison","trance_powder"],translatedDefaults:{cohort1_name:"cohort",contacts_title:"contacts",factions_title:"factions_title",factions1_header:"factions1",factions2_header:"factions2",factions3_header:"factions3",factions4_header:"factions4",factions5_header:"factions5",friends_title:"friends",setting_stress_label:"stress",setting_trauma_label:"trauma",upgrade_6_name:"carriage",upgrade_6_description:"upgrade_carriage_description",upgrade_7_name:"documents",upgrade_7_description:"upgrade_documents_description",upgrade_8_name:"boat",upgrade_8_description:"upgrade_boat_description",upgrade_9_name:"gear",upgrade_9_description:"upgrade_gear_description",upgrade_10_name:"hidden",upgrade_10_description:"upgrade_hidden_description",upgrade_11_name:"implements",upgrade_11_description:"upgrade_implements_description",upgrade_12_name:"quarters",upgrade_12_description:"upgrade_quarters_description",upgrade_13_name:"supplies",upgrade_13_description:"upgrade_supplies_description",upgrade_14_name:"secure",upgrade_14_description:"upgrade_secure_description",upgrade_15_name:"tools",upgrade_15_description:"upgrade_tools_description",upgrade_16_name:"vault",upgrade_16_description:"upgrade_vault_description",upgrade_17_name:"weapons",upgrade_17_description:"upgrade_weapons_description",upgrade_18_name:"workshop",upgrade_18_description:"upgrade_workshop_description",upgrade_20_name:"insight",upgrade_20_description:"upgrade_insight_description",upgrade_21_name:"prowess",upgrade_21_description:"upgrade_prowess_description",upgrade_22_name:"resolve",upgrade_22_description:"upgrade_resolve_description",upgrade_23_name:"personal",upgrade_23_description:"upgrade_personal_description",upgrade_24_name:"mastery",upgrade_24_description:"upgrade_mastery_description",xp_condition2:"xp_beliefs",xp_condition3:"xp_vice"},defaultValues:{attune:"0",claim_bridge_10_15:"1",claim_bridge_12_13:"1",claim_bridge_13_14:"1",claim_bridge_2_3:"1",claim_bridge_2_7:"1",claim_bridge_3_4:"1",claim_bridge_4_9:"1",claim_bridge_6_11:"1",claim_bridge_6_7:"1",claim_bridge_9_14:"1",cohort1_subtype:"",cohort1_type:"gang",command:"0",consort:"0",finesse:"0",hunt:"0",prowl:"0",setting_extra_stress:"0",setting_load_h:"6",setting_show_deity:"0",setting_show_frame:"0",setting_show_origin:"0",setting_show_strictures:"0",setting_traumata_set:"normal",setting_vice_type:"normal",skirmish:"0",study:"0",survey:"0",sway:"0",tinker:"0",trauma:"0",upgrade_10_check_1:"0",upgrade_14_check_1:"0",upgrade_20_check_1:"0",upgrade_21_check_1:"0",upgrade_22_check_1:"0",upgrade_6_check_1:"0",wreck:"0"},maxFriendsPerPlaybook:5,maxContactsPerCrew:6,friendlessPlaybooks:["ghost","hull"],translatedCrewAttributes:["claim_1_name","claim_2_name","claim_3_name","claim_4_name","claim_5_name","claim_6_name","claim_7_name","claim_8_name","claim_9_name","claim_10_name","claim_11_name","claim_12_name","claim_13_name","claim_14_name","claim_15_name","claim_1_desc","claim_2_desc","claim_3_desc","claim_4_desc","claim_5_desc","claim_6_desc","claim_7_desc","claim_8_desc","claim_9_desc","claim_10_desc","claim_11_desc","claim_12_desc","claim_13_desc","claim_14_desc","claim_15_desc","cohort1_description","cohort1_name","cohort1_subtype","crew_description","crew_xp_condition","hunting_grounds_type","hunting_grounds_description","upgrade_6_name","upgrade_8_name"],translatedPlaybookAttributes:["char_cohort_name","char_cohort_subtype","friends_title","gatherinfo1","gatherinfo2","gatherinfo3","gatherinfo4","gatherinfo5","gatherinfo6","playbook_description","setting_stress_label","setting_trauma_label","xp_condition","xp_condition2","xp_condition3"]},sheetVersion="1.0",sheetName="Blades in the Dark",getTranslation=a=>getTranslationByKey(a)||"NO_TRANSLATION_FOUND";/* global data, getTranslationByKey, getAttrs, setAttrs, on, getSectionIDs, generateRowID, removeRepeatingRow *//* It's necessary to include the base data at the start of the file *//* Translate all the data */Object.keys(data.crew).forEach(a=>{const b=data.crew[a].base;/* Generate crew contacts from translation file */Object.keys(b).forEach(a=>{data.translatedCrewAttributes.includes(a)&&(b[a]=getTranslation(b[a]))}),data.crew[a].contact=[...Array(data.maxContactsPerCrew).keys()].map(b=>({name:getTranslation(`crew_${a}_contact_${b}`)})),data.crew[a].crewability=data.crew[a].crewability.map(a=>({name:getTranslation(`crew_ability_${a}`),description:getTranslation(`crew_ability_${a}_description`)})),data.crew[a].upgrade.forEach(a=>{a.name=getTranslation(a.name),a.description&&(a.description=getTranslationByKey(a.description)||""),a.boxes_chosen="1"})}),data.items.forEach(a=>{a.boxes_chosen="1",a.name=getTranslation(a.name),a.description=getTranslationByKey(a.description)||""}),Object.keys(data.translatedDefaults).forEach(a=>{data.translatedDefaults[a]=getTranslation(data.translatedDefaults[a])}),Object.assign(data.defaultValues,data.translatedDefaults),Object.keys(data.factions).forEach(a=>{data.factions[a].forEach(a=>{a.name=getTranslation(a.name)})}),data.alchemicals.forEach((a,b)=>{data.alchemicals[b]={name:getTranslation(a)}}),Object.keys(data.playbook).forEach(a=>{const b=data.playbook[a].base;Object.keys(b).forEach(a=>{data.translatedPlaybookAttributes.includes(a)&&(b[a]=getTranslation(b[a]))}),data.playbook[a].friend=data.friendlessPlaybooks.includes(a)?[]:[...Array(data.maxFriendsPerPlaybook).keys()].map(b=>({name:getTranslation(`playbook_${a}_friend_${b}`)})).filter(a=>a.name),data.playbook[a].ability=data.playbook[a].ability.map(a=>({name:getTranslation(`playbook_ability_${a}`),description:getTranslation(`playbook_ability_${a}_description`)})),data.playbook[a].playbookitem.forEach(a=>{a.name=getTranslation(a.name),a.description&&(a.description=getTranslationByKey(a.description)||""),a.boxes_chosen="1"})});const playbookAbilityMap=new Map([...Object.values(data.playbook).map(a=>a.ability).reduce((b,a)=>(a.forEach(c=>b.add(c)),b),new Set)].map(a=>[a.name.toLowerCase(),a.description])),crewAbilityMap=new Map([...Object.values(data.crew).map(a=>a.crewability).reduce((b,a)=>(a.forEach(c=>b.add(c)),b),new Set)].map(a=>[a.name.toLowerCase(),a.description])),mySetAttrs=(a,b,c)=>{const d=Object.keys(a).reduce((b,c)=>(b[c]=a[c]+"",b),{});setAttrs(d,b,c)},setAttr=(a,b)=>{getAttrs([a],c=>{const d={};c[a]!==b+""&&(d[a]=b+""),setAttrs(d)})},fillRepeatingSectionFromData=(a,b,c,d)=>{d=d||(()=>{}),getSectionIDs(`repeating_${a}`,e=>{const f=[...e.map(b=>`repeating_${a}_${b}_name`),...e.map(b=>`repeating_${a}_${b}_autogen`)];getAttrs(f,f=>{c&&(e=e.filter(b=>!f[`repeating_${a}_${b}_autogen`]||(removeRepeatingRow(`repeating_${a}_${b}`),!1)));const g=e.map(b=>f[`repeating_${a}_${b}_name`]),h=[],i=b.filter(a=>!g.includes(a.name)).map(b=>{let d;for(;!d;){let a=generateRowID();h.includes(a)||(d=a,h.push(d))}const e={};return c&&(e[`repeating_${a}_${d}_autogen`]="1"),Object.keys(b).reduce((c,e)=>(c[`repeating_${a}_${d}_${e}`]=b[e],c),e)}).reduce((a,b)=>Object.assign(a,b),{});mySetAttrs(i,{},d)})})},diceMagic=a=>{return 0<a?`dice=${(a=>[...Array(a+1).keys()].slice(1))(a).map(()=>"[[d6]]").join("&#44; ")}`:"zerodice=[[d6]]&#44; [[d6]]"},buildRollFormula=a=>` {{?{@{bonusdice}|${[0,1,2,3,4,5,6,-1,-2,-3].map(b=>`${b},${diceMagic(b+(parseInt(a)||0))}`).join("|")}}}}`,buildNumdiceFormula=()=>` {{?{${getTranslation("numberofdice")}|${[0,1,2,3,4,5,6].map(a=>`${a},${diceMagic(a)}`).join("|")}}}}`,emptyFirstRowIfUnnamed=a=>{getSectionIDs(`repeating_${a}`,b=>{const c=b[0];getAttrs([`repeating_${a}_${c}_name`],b=>{b[`repeating_${a}_${c}_name`]||removeRepeatingRow(`repeating_${a}_${c}`)})})},handleBoxesFill=(a,b)=>{on(`change:${a}1 change:${a}2 change:${a}3 change:${a}4`,a=>{"player"!==a.sourceType||getAttrs([a.sourceAttribute],c=>{const d=a.sourceAttribute.slice(0,-1),e={};if("1"===c[a.sourceAttribute]+"")switch(a.sourceAttribute.slice(-1)){case"4":e[`${d}3`]=1;/* falls through */case"3":e[`${d}2`]=1;/* falls through */case"2":e[`${d}1`]=1;}if("0"===c[a.sourceAttribute]+"")switch(a.sourceAttribute.slice(-1)){case"1":e[`${d}2`]=0;/* falls through */case"2":e[`${d}3`]=0;/* falls through */case"3":b&&(e[`${d}4`]=0);}mySetAttrs(e)})})},calculateResistance=a=>{getAttrs([...data.actions[a],`setting_resbonus_${a}`],b=>{const c=data.actions[a].map(a=>b[a]).reduce((a,b)=>a+("0"===b+""?0:1),0);setAttr(a,c),setAttr(`${a}_formula`,buildRollFormula(c+parseInt(b[`setting_resbonus_${a}`])))})},calculateVice=()=>{getAttrs(Object.keys(data.actions),a=>{const b=Math.min(...Object.keys(a).map(b=>parseInt(a[b])||0));setAttr("vice_formula",buildRollFormula(b))})},calculateStashFormula=()=>getAttrs(["stash"],a=>{setAttr("stash_formula",buildRollFormula(Math.floor(parseInt(a.stash)/10)))}),calculateWantedFormula=()=>getAttrs(["wanted"],a=>{setAttr("wanted_formula",buildRollFormula(a.wanted))}),calculateCohortDice=a=>{const b=["crew_tier",...a.map(a=>`${a}_impaired`),...a.map(a=>`${a}_type`),...a.map(a=>`${a}_roll_formula`)];getAttrs(b,b=>{const c={};a.forEach(a=>{const d=(parseInt(b.crew_tier)||0)-(parseInt(b[`${a}_impaired`])||0)+("elite"===b[`${a}_type`]||"expert"===b[`${a}_type`]?1:0),e=buildRollFormula(d);e!==b[`${a}_roll_formula`]&&(c[`${a}_roll_formula`]=e)}),setAttrs(c)})},crewAttributes=[...new Set([].concat(...Object.keys(data.crew).map(a=>Object.keys(data.crew[a].base))))],playbookAttributes=[...new Set([].concat(...Object.keys(data.playbook).map(a=>Object.keys(data.playbook[a].base))))],watchedAttributes=new Set(crewAttributes.concat(playbookAttributes)),actionsFlat=[].concat(...Object.keys(data.actions).map(a=>data.actions[a])),traumaDataFlat=Object.keys(data.traumas).reduce((a,b)=>a.concat(data.traumas[b]),[]),autoExpandFields=["repeating_ability:name","repeating_ability:description","repeating_crewability:name","repeating_crewability:description","repeating_playbookitem:name","repeating_upgrade:name","repeating_friend:name","repeating_contact:name","repeating_clock:name","repeating_crewclock:name","repeating_factionclock:name","repeating_cohort:edges","repeating_cohort:flaws","repeating_alchemical:name","xp_condition","xp_condition_extra","xp_condition2","xp_condition3","crew_xp_condition","hunting_grounds_type","hunting_grounds_description","cohort1_edges","cohort1_flaws","heritage","background","vice_purveyor"],autogenSections=["ability","crewability","friend","contact","playbookitem","upgrade"],spiritPlaybooks=["ghost","hull","vampire"],translatedNames=[...Object.keys(data.playbook),...Object.keys(data.crew)].reduce((a,b)=>(getTranslationByKey(b)?a[getTranslationByKey(b).toLowerCase()]=b:a[b.toLowerCase()]=b,a),{});/* Utility functions - shouldn't need to touch most of these *//* CONSTANTS *//* EVENT HANDLERS *//* Set default fields when setting crew type or playbook */on("change:crew_type change:playbook",a=>{getAttrs(["playbook","crew_type","changed_attributes","setting_autofill",...watchedAttributes],b=>{const c=(b.changed_attributes||"").split(","),d=translatedNames[("crew_type"===a.sourceAttribute?b.crew_type:b.playbook).toLowerCase()],e=(a,e)=>{if(data){const f=e.filter(a=>!c.includes(a))// do not reset attributes which have been changed by the user
.filter(a=>!spiritPlaybooks.includes(d)||!actionsFlat.includes(a))// do not reset action dots if changing to a spirit playbook
.filter(a=>b[a]!==(data.defaultValues[a]||""))// do not set attributes if current value is equal to sheet defaults
.reduce((a,b)=>(a[b]=data.defaultValues[b]||"",a),{});Object.keys(a).filter(a=>!c.includes(a)).forEach(b=>f[b]=a[b]),mySetAttrs(f)}};("crew_type"===a.sourceAttribute?b.crew_type:b.playbook)&&setAttr("show_playbook_reminder","0");"1"!==b.setting_autofill||("crew_type"===a.sourceAttribute&&d in data.crew&&(fillRepeatingSectionFromData("contact",data.crew[d].contact,!0),fillRepeatingSectionFromData("crewability",data.crew[d].crewability,!0),fillRepeatingSectionFromData("upgrade",data.crew[d].upgrade,!0),e(data.crew[d].base,crewAttributes)),"playbook"===a.sourceAttribute&&d in data.playbook&&(fillRepeatingSectionFromData("friend",data.playbook[d].friend,!0),fillRepeatingSectionFromData("ability",data.playbook[d].ability,!0),fillRepeatingSectionFromData("playbookitem",data.playbook[d].playbookitem,!0),e(data.playbook[d].base,playbookAttributes),"leech"===d&&fillRepeatingSectionFromData("alchemical",data.alchemicals)))})});const fillPlaybookAbility=()=>{const a="repeating_ability";getAttrs([`${"repeating_ability"}_name`,`${"repeating_ability"}_description`],b=>{if(!b[`${a}_description`]){const c=playbookAbilityMap.get((b[`${a}_name`]||"").toLowerCase());c&&setAttr(`${a}_description`,c)}})},fillCrewAbility=()=>{const a="repeating_crewability";getAttrs([`${"repeating_crewability"}_name`,`${"repeating_crewability"}_description`],b=>{if(!b[`${a}_description`]){const c=crewAbilityMap.get((b[`${a}_name`]||"").toLowerCase());c&&setAttr(`${a}_description`,c)}})};/* Watch repeating rows for changes and set autogen to false if change happens *//* Watch for changes in auto-set attributes and update changed_attributes*//* Register attribute/action event handlers *//* Calculate stash *//* Calculate trauma *//* Generate buttons *//* Extra stress and trauma *//* Calculate cohort quality *//* Set correct verb for cohort roll button *//* Left-fill checkboxes *//* Pseudo-radios *//* Item reset button *//* Default values for number of upgrades boxes — probably not necessary anymore */// on('change:repeating_upgrade:boxes_chosen', () => {
// 	getAttrs(['repeating_upgrade_numboxes'], v => {
// 		if (!['1', '2', '3'].includes(v.repeating_upgrade_numboxes)) {
// 			setAttr('repeating_upgrade_numboxes', '1');
// 		}
// 	});
// });
/* Resistance query *//* Trim whitespace in auto-expand fields *//* Clean chat image URL *//* Number of dice prompt *//* INITIALISATION AND UPGRADES */on("change:repeating_ability:name",fillPlaybookAbility),on("change:repeating_crewability:name",fillCrewAbility),autogenSections.forEach(a=>{on(`change:repeating_${a}`,b=>{getAttrs([`repeating_${a}_autogen`],c=>{c[`repeating_${a}_autogen`]&&"player"===b.sourceType&&setAttr(`repeating_${a}_autogen`,"")})})}),watchedAttributes.forEach(a=>{on(`change:${a}`,b=>{"player"===b.sourceType&&getAttrs(["changed_attributes"],b=>{const c=[...new Set(b.changed_attributes.split(",")).add(a)].filter(a=>!!a).join(",");setAttr("changed_attributes",c)})})}),Object.keys(data.actions).forEach(a=>{on([...data.actions[a],`setting_resbonus_${a}`].map(a=>`change:${a}`).join(" "),()=>calculateResistance(a)),on(`change:${a}`,calculateVice)}),on("change:stash",calculateStashFormula),on("change:wanted",calculateWantedFormula),on("change:setting_traumata_set "+traumaDataFlat.map(a=>`change:trauma_${a}`).join(" "),a=>{getAttrs(["setting_traumata_set",...traumaDataFlat.map(a=>`trauma_${a}`)],b=>{const c="0"===b.setting_traumata_set?"normal":b.setting_traumata_set;if(data.traumas[c]&&"player"===a.sourceType){const a=data.traumas[c].reduce((a,c)=>a+(parseInt(b[`trauma_${c}`])||0),0);setAttr("trauma",a)}})}),on("change:generate_factions",()=>{setAttr("show_faction_generatebutton","0"),Object.keys(data.factions).forEach(a=>{fillRepeatingSectionFromData(a,data.factions[a])})}),autogenSections.forEach(a=>{on(`change:generate_${a}`,()=>{getAttrs(["generate_source_character","generate_source_crew","sheet_type"],b=>{const c="character"===b.sheet_type?data.playbook:data.crew,d=b[`generate_source_${b.sheet_type}`];d in c&&(emptyFirstRowIfUnnamed(a),fillRepeatingSectionFromData(a,c[d][a]))})})}),on("change:setting_extra_stress",a=>setAttr("stress_max",9+(parseInt(a.newValue)||0))),on("change:setting_extra_trauma",a=>setAttr("trauma_max",4+(parseInt(a.newValue)||0))),on(["crew_tier","cohort1_impaired","cohort1_type"].map(a=>`change:${a}`).join(" "),()=>calculateCohortDice(["cohort1"])),on("change:repeating_cohort",()=>calculateCohortDice(["repeating_cohort"])),on("change:crew_tier",()=>{getSectionIDs("repeating_cohort",b=>calculateCohortDice(b.map(a=>`repeating_cohort_${a}`)))}),on("change:char_cohort_quality change:char_cohort_impaired change:setting_show_cohort",()=>{getAttrs(["char_cohort_quality","char_cohort_impaired"],a=>{const b=(parseInt(a.char_cohort_quality)||0)-(parseInt(a.char_cohort_impaired)||0);setAttr("char_cohort_roll_formula",buildRollFormula(b))})}),["char_cohort","cohort1","repeating_cohort"].forEach(a=>{const b="change:"+("repeating_cohort"===a?`${a}:type`:`${a}_type`);on(b,b=>{const c="expert"===b.newValue?"^{rolls_their}":"^{roll_their}";setAttr(`${a}_verb`,c)})}),handleBoxesFill("upgrade_24_check_",!0),handleBoxesFill("bandolier1_check_"),handleBoxesFill("bandolier2_check_"),["item","playbookitem","upgrade"].forEach(a=>handleBoxesFill(`repeating_${a}:check_`)),["crew_tier",...actionsFlat].forEach(a=>{on(`change:${a}`,b=>{"0"===b.newValue+""&&"player"===b.sourceType&&setAttr(a,(parseInt(b.previousValue)||1)-1),setAttr(`${a}_formula`,buildRollFormula(b.newValue||"0"))})}),on("change:reset_items",()=>{setAttr("load",0),["item","playbookitem"].forEach(a=>{getSectionIDs(`repeating_${a}`,b=>{const c=[...b.map(b=>`repeating_${a}_${b}_check_1`),...b.map(b=>`repeating_${a}_${b}_check_2`),...b.map(b=>`repeating_${a}_${b}_check_3`)].reduce((a,b)=>(a[b]=0,a),{});mySetAttrs(c)})})}),on("change:setting_consequence_query sheet:opened",()=>{getAttrs(["setting_consequence_query"],a=>{const b="1"===a.setting_consequence_query+""?`?{${getTranslation("consequence")}|${getTranslation("a_consequence")}}`:"^{a_consequence}";setAttr("consequence_query",b)})}),autoExpandFields.forEach(a=>{on(`change:${a}`,b=>{const c=a.replace(":","_");getAttrs([c],a=>{a[c].trim()!==a[c]&&"player"===b.sourceType&&setAttr(c,a[c].trim())})})}),on("change:chat_image",a=>{const b=(a.newValue||"").match(/^(https:\/\/s3\.amazonaws\.com\/files\.d20\.io\/images\/.*\.jpg)\?\d+$/);b&&setAttr("chat_image",b[1])}),on("sheet:opened",()=>{/* Set up translated attributes */const a={bonusdice:getTranslation("bonusdice"),effect_query:getTranslation("effect_query"),notes_query:`?{${getTranslation("notes")}}`,numberofdice:buildNumdiceFormula(),position_query:`?{${getTranslation("position")}|`+`${getTranslation("risky")},position=${getTranslation("risky")}|`+`${getTranslation("controlled")},position=${getTranslation("controlled")}|`+`${getTranslation("desperate")},position=${getTranslation("desperate")}|`+`${getTranslation("fortune_roll")},position=}`};getAttrs(Object.keys(a),b=>{const c={};Object.keys(a).forEach(d=>{b[d]!==a[d]&&(c[d]=a[d])}),mySetAttrs(c)})}),on("sheet:opened",()=>{/* Setup and upgrades */getAttrs(["sheet_type","changed_attributes","crew_type","playbook"],a=>{["crew","faction"].includes(a.sheet_type)||setAttr("sheet_type","character"),(a.playbook||a.crew_type)&&setAttr("show_playbook_reminder","0")}),getAttrs(["version"],a=>{// Set version number
a.version?(a=>{//const [major, minor] = version && version.split(".").map(x => parseInt(x));
console.log(`Found version ${a}.`)})(a.version):(()=>{const a=["ability","friend","crewability","contact","playbookitem","upgrade","framefeature"].reduce((a,b)=>(a[`repeating_${b}_${generateRowID()}_autogen`]=1,a),{});/* Set translated default values */mySetAttrs(a),fillRepeatingSectionFromData("item",data.items),getAttrs(Object.keys(data.translatedDefaults),a=>{const b={};Object.keys(data.translatedDefaults).forEach(c=>{a[c]!==data.translatedDefaults[c]&&(b[c]=data.translatedDefaults[c])}),mySetAttrs(b)}),console.log("Initialising new sheet.")})(),mySetAttrs({version:sheetVersion,character_sheet:`${sheetName} v${sheetVersion}`})})});</script>
